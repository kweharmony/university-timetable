function yh(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function _l(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function xg(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var Wa={exports:{}},as={},Ha={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function bg(){if(Td)return ae;Td=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function x(T,A,oe){this.props=T,this.context=A,this.refs=O,this.updater=oe||S}x.prototype.isReactComponent={},x.prototype.setState=function(T,A){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,A,"setState")},x.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function $(){}$.prototype=x.prototype;function z(T,A,oe){this.props=T,this.context=A,this.refs=O,this.updater=oe||S}var L=z.prototype=new $;L.constructor=z,b(L,x.prototype),L.isPureReactComponent=!0;var W=Array.isArray,ne=Object.prototype.hasOwnProperty,re={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Se(T,A,oe){var le,ce={},de=null,ve=null;if(A!=null)for(le in A.ref!==void 0&&(ve=A.ref),A.key!==void 0&&(de=""+A.key),A)ne.call(A,le)&&!se.hasOwnProperty(le)&&(ce[le]=A[le]);var ge=arguments.length-2;if(ge===1)ce.children=oe;else if(1<ge){for(var Ee=Array(ge),it=0;it<ge;it++)Ee[it]=arguments[it+2];ce.children=Ee}if(T&&T.defaultProps)for(le in ge=T.defaultProps,ge)ce[le]===void 0&&(ce[le]=ge[le]);return{$$typeof:i,type:T,key:de,ref:ve,props:ce,_owner:re.current}}function be(T,A){return{$$typeof:i,type:T.type,key:A,ref:T.ref,props:T.props,_owner:T._owner}}function _t(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function Lt(T){var A={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(oe){return A[oe]})}var ft=/\/+/g;function Ge(T,A){return typeof T=="object"&&T!==null&&T.key!=null?Lt(""+T.key):A.toString(36)}function st(T,A,oe,le,ce){var de=typeof T;(de==="undefined"||de==="boolean")&&(T=null);var ve=!1;if(T===null)ve=!0;else switch(de){case"string":case"number":ve=!0;break;case"object":switch(T.$$typeof){case i:case r:ve=!0}}if(ve)return ve=T,ce=ce(ve),T=le===""?"."+Ge(ve,0):le,W(ce)?(oe="",T!=null&&(oe=T.replace(ft,"$&/")+"/"),st(ce,A,oe,"",function(it){return it})):ce!=null&&(_t(ce)&&(ce=be(ce,oe+(!ce.key||ve&&ve.key===ce.key?"":(""+ce.key).replace(ft,"$&/")+"/")+T)),A.push(ce)),1;if(ve=0,le=le===""?".":le+":",W(T))for(var ge=0;ge<T.length;ge++){de=T[ge];var Ee=le+Ge(de,ge);ve+=st(de,A,oe,Ee,ce)}else if(Ee=E(T),typeof Ee=="function")for(T=Ee.call(T),ge=0;!(de=T.next()).done;)de=de.value,Ee=le+Ge(de,ge++),ve+=st(de,A,oe,Ee,ce);else if(de==="object")throw A=String(T),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ve}function pe(T,A,oe){if(T==null)return T;var le=[],ce=0;return st(T,le,"","",function(de){return A.call(oe,de,ce++)}),le}function fe(T){if(T._status===-1){var A=T._result;A=A(),A.then(function(oe){(T._status===0||T._status===-1)&&(T._status=1,T._result=oe)},function(oe){(T._status===0||T._status===-1)&&(T._status=2,T._result=oe)}),T._status===-1&&(T._status=0,T._result=A)}if(T._status===1)return T._result.default;throw T._result}var ie={current:null},M={transition:null},Z={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:M,ReactCurrentOwner:re};function V(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:pe,forEach:function(T,A,oe){pe(T,function(){A.apply(this,arguments)},oe)},count:function(T){var A=0;return pe(T,function(){A++}),A},toArray:function(T){return pe(T,function(A){return A})||[]},only:function(T){if(!_t(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ae.Component=x,ae.Fragment=n,ae.Profiler=l,ae.PureComponent=z,ae.StrictMode=o,ae.Suspense=p,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ae.act=V,ae.cloneElement=function(T,A,oe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var le=b({},T.props),ce=T.key,de=T.ref,ve=T._owner;if(A!=null){if(A.ref!==void 0&&(de=A.ref,ve=re.current),A.key!==void 0&&(ce=""+A.key),T.type&&T.type.defaultProps)var ge=T.type.defaultProps;for(Ee in A)ne.call(A,Ee)&&!se.hasOwnProperty(Ee)&&(le[Ee]=A[Ee]===void 0&&ge!==void 0?ge[Ee]:A[Ee])}var Ee=arguments.length-2;if(Ee===1)le.children=oe;else if(1<Ee){ge=Array(Ee);for(var it=0;it<Ee;it++)ge[it]=arguments[it+2];le.children=ge}return{$$typeof:i,type:T.type,key:ce,ref:de,props:le,_owner:ve}},ae.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},ae.createElement=Se,ae.createFactory=function(T){var A=Se.bind(null,T);return A.type=T,A},ae.createRef=function(){return{current:null}},ae.forwardRef=function(T){return{$$typeof:f,render:T}},ae.isValidElement=_t,ae.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:fe}},ae.memo=function(T,A){return{$$typeof:m,type:T,compare:A===void 0?null:A}},ae.startTransition=function(T){var A=M.transition;M.transition={};try{T()}finally{M.transition=A}},ae.unstable_act=V,ae.useCallback=function(T,A){return ie.current.useCallback(T,A)},ae.useContext=function(T){return ie.current.useContext(T)},ae.useDebugValue=function(){},ae.useDeferredValue=function(T){return ie.current.useDeferredValue(T)},ae.useEffect=function(T,A){return ie.current.useEffect(T,A)},ae.useId=function(){return ie.current.useId()},ae.useImperativeHandle=function(T,A,oe){return ie.current.useImperativeHandle(T,A,oe)},ae.useInsertionEffect=function(T,A){return ie.current.useInsertionEffect(T,A)},ae.useLayoutEffect=function(T,A){return ie.current.useLayoutEffect(T,A)},ae.useMemo=function(T,A){return ie.current.useMemo(T,A)},ae.useReducer=function(T,A,oe){return ie.current.useReducer(T,A,oe)},ae.useRef=function(T){return ie.current.useRef(T)},ae.useState=function(T){return ie.current.useState(T)},ae.useSyncExternalStore=function(T,A,oe){return ie.current.useSyncExternalStore(T,A,oe)},ae.useTransition=function(){return ie.current.useTransition()},ae.version="18.3.1",ae}var Od;function kl(){return Od||(Od=1,Ha.exports=bg()),Ha.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Tg(){if(jd)return as;jd=1;var i=kl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,m){var y,w={},E=null,S=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(S=p.ref);for(y in p)o.call(p,y)&&!u.hasOwnProperty(y)&&(w[y]=p[y]);if(f&&f.defaultProps)for(y in p=f.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:r,type:f,key:E,ref:S,props:w,_owner:l.current}}return as.Fragment=n,as.jsx=d,as.jsxs=d,as}var Cd;function Og(){return Cd||(Cd=1,Wa.exports=Tg()),Wa.exports}var R=Og(),D=kl();const wh=_l(D),jg=yh({__proto__:null,default:wh},[D]);var Oi={},qa={exports:{}},rt={},Ka={exports:{}},Ga={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function Cg(){return Rd||(Rd=1,(function(i){function r(M,Z){var V=M.length;M.push(Z);e:for(;0<V;){var T=V-1>>>1,A=M[T];if(0<l(A,Z))M[T]=Z,M[V]=A,V=T;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var Z=M[0],V=M.pop();if(V!==Z){M[0]=V;e:for(var T=0,A=M.length,oe=A>>>1;T<oe;){var le=2*(T+1)-1,ce=M[le],de=le+1,ve=M[de];if(0>l(ce,V))de<A&&0>l(ve,ce)?(M[T]=ve,M[de]=V,T=de):(M[T]=ce,M[le]=V,T=le);else if(de<A&&0>l(ve,V))M[T]=ve,M[de]=V,T=de;else break e}}return Z}function l(M,Z){var V=M.sortIndex-Z.sortIndex;return V!==0?V:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var p=[],m=[],y=1,w=null,E=3,S=!1,b=!1,O=!1,x=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(M){for(var Z=n(m);Z!==null;){if(Z.callback===null)o(m);else if(Z.startTime<=M)o(m),Z.sortIndex=Z.expirationTime,r(p,Z);else break;Z=n(m)}}function W(M){if(O=!1,L(M),!b)if(n(p)!==null)b=!0,fe(ne);else{var Z=n(m);Z!==null&&ie(W,Z.startTime-M)}}function ne(M,Z){b=!1,O&&(O=!1,$(Se),Se=-1),S=!0;var V=E;try{for(L(Z),w=n(p);w!==null&&(!(w.expirationTime>Z)||M&&!Lt());){var T=w.callback;if(typeof T=="function"){w.callback=null,E=w.priorityLevel;var A=T(w.expirationTime<=Z);Z=i.unstable_now(),typeof A=="function"?w.callback=A:w===n(p)&&o(p),L(Z)}else o(p);w=n(p)}if(w!==null)var oe=!0;else{var le=n(m);le!==null&&ie(W,le.startTime-Z),oe=!1}return oe}finally{w=null,E=V,S=!1}}var re=!1,se=null,Se=-1,be=5,_t=-1;function Lt(){return!(i.unstable_now()-_t<be)}function ft(){if(se!==null){var M=i.unstable_now();_t=M;var Z=!0;try{Z=se(!0,M)}finally{Z?Ge():(re=!1,se=null)}}else re=!1}var Ge;if(typeof z=="function")Ge=function(){z(ft)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,pe=st.port2;st.port1.onmessage=ft,Ge=function(){pe.postMessage(null)}}else Ge=function(){x(ft,0)};function fe(M){se=M,re||(re=!0,Ge())}function ie(M,Z){Se=x(function(){M(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){b||S||(b=!0,fe(ne))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(M){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var V=E;E=Z;try{return M()}finally{E=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=E;E=M;try{return Z()}finally{E=V}},i.unstable_scheduleCallback=function(M,Z,V){var T=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?T+V:T):V=T,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=V+A,M={id:y++,callback:Z,priorityLevel:M,startTime:V,expirationTime:A,sortIndex:-1},V>T?(M.sortIndex=V,r(m,M),n(p)===null&&M===n(m)&&(O?($(Se),Se=-1):O=!0,ie(W,V-T))):(M.sortIndex=A,r(p,M),b||S||(b=!0,fe(ne))),M},i.unstable_shouldYield=Lt,i.unstable_wrapCallback=function(M){var Z=E;return function(){var V=E;E=Z;try{return M.apply(this,arguments)}finally{E=V}}}})(Ga)),Ga}var Pd;function Rg(){return Pd||(Pd=1,Ka.exports=Cg()),Ka.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Pg(){if(Nd)return rt;Nd=1;var i=kl(),r=Rg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(e){return p.call(w,e)?!0:p.call(y,e)?!1:m.test(e)?w[e]=!0:(y[e]=!0,!1)}function S(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,s,a){if(t===null||typeof t>"u"||S(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,s,a,c,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,z);x[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,z);x[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,z);x[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,s,a){var c=x.hasOwnProperty(t)?x[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,s,c,a)&&(s=null),a||c===null?E(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),re=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),Lt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),M=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,T;function A(e){if(T===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var oe=!1;function le(e,t){if(!e||oe)return"";oe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),h=a.stack.split(`
`),g=c.length-1,v=h.length-1;1<=g&&0<=v&&c[g]!==h[v];)v--;for(;1<=g&&0<=v;g--,v--)if(c[g]!==h[v]){if(g!==1||v!==1)do if(g--,v--,0>v||c[g]!==h[v]){var _=`
`+c[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=v);break}}}finally{oe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?A(e):""}function ce(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case re:return"Portal";case be:return"Profiler";case Se:return"StrictMode";case Ge:return"Suspense";case st:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lt:return(e.displayName||"Context")+".Consumer";case _t:return(e._context.displayName||"Context")+".Provider";case ft:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function it(e){var t=Ee(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=it(e))}function Nl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Ee(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qi(e,t){var s=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Al(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=ge(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Il(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function Yi(e,t){Il(e,t);var s=ge(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xi(e,t.type,s):t.hasOwnProperty("defaultValue")&&Xi(e,t.type,ge(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $l(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Xi(e,t,s){(t!=="number"||ys(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Sn=Array.isArray;function Ur(e,t,s,a){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ge(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ll(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Sn(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ge(s)}}function Ul(e,t){var s=ge(t.value),a=ge(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,zl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function En(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(e){jf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]})});function Ml(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function Fl(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Ml(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Cf=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(e,t){if(t){if(Cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function ro(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function so(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var io=null,Dr=null,Br=null;function Vl(e){if(e=qn(e)){if(typeof io!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Fs(t),io(e.stateNode,e.type,t))}}function Wl(e){Dr?Br?Br.push(e):Br=[e]:Dr=e}function Hl(){if(Dr){var e=Dr,t=Br;if(Br=Dr=null,Vl(e),t)for(e=0;e<t.length;e++)Vl(t[e])}}function ql(e,t){return e(t)}function Kl(){}var oo=!1;function Gl(e,t,s){if(oo)return e(t,s);oo=!0;try{return ql(e,t,s)}finally{oo=!1,(Dr!==null||Br!==null)&&(Kl(),Hl())}}function bn(e,t){var s=e.stateNode;if(s===null)return null;var a=Fs(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var ao=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ao=!1}function Rf(e,t,s,a,c,h,g,v,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(s,P)}catch(I){this.onError(I)}}var On=!1,_s=null,ks=!1,lo=null,Pf={onError:function(e){On=!0,_s=e}};function Nf(e,t,s,a,c,h,g,v,_){On=!1,_s=null,Rf.apply(Pf,arguments)}function Af(e,t,s,a,c,h,g,v,_){if(Nf.apply(this,arguments),On){if(On){var P=_s;On=!1,_s=null}else throw Error(n(198));ks||(ks=!0,lo=P)}}function mr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Jl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ql(e){if(mr(e)!==e)throw Error(n(188))}function If(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return Ql(c),e;if(h===a)return Ql(c),t;h=h.sibling}throw Error(n(188))}if(s.return!==a.return)s=c,a=h;else{for(var g=!1,v=c.child;v;){if(v===s){g=!0,s=c,a=h;break}if(v===a){g=!0,a=c,s=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===s){g=!0,s=h,a=c;break}if(v===a){g=!0,a=h,s=c;break}v=v.sibling}if(!g)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function Yl(e){return e=If(e),e!==null?Xl(e):null}function Xl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xl(e);if(t!==null)return t;e=e.sibling}return null}var Zl=r.unstable_scheduleCallback,eu=r.unstable_cancelCallback,$f=r.unstable_shouldYield,Lf=r.unstable_requestPaint,Re=r.unstable_now,Uf=r.unstable_getCurrentPriorityLevel,uo=r.unstable_ImmediatePriority,tu=r.unstable_UserBlockingPriority,Ss=r.unstable_NormalPriority,Df=r.unstable_LowPriority,ru=r.unstable_IdlePriority,Es=null,Pt=null;function Bf(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ff,zf=Math.log,Mf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(zf(e)/Mf|0)|0}var xs=64,bs=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,g=s&268435455;if(g!==0){var v=g&~c;v!==0?a=jn(v):(h&=g,h!==0&&(a=jn(h)))}else g=s&~c,g!==0?a=jn(g):h!==0&&(a=jn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-kt(t),c=1<<s,a|=e[s],t&=~c;return a}function Vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-kt(h),v=1<<g,_=c[g];_===-1?((v&s)===0||(v&a)!==0)&&(c[g]=Vf(v,t)):_<=t&&(e.expiredLanes|=v),h&=~v}}function co(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nu(){var e=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),e}function ho(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Cn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=s}function Hf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-kt(s),h=1<<c;t[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function fo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-kt(s),c=1<<a;c&t|e[a]&t&&(e[a]|=t),s&=~c}}var me=0;function su(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var iu,po,ou,au,lu,go=!1,Os=[],Kt=null,Gt=null,Jt=null,Rn=new Map,Pn=new Map,Qt=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(t.pointerId)}}function Nn(e,t,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},t!==null&&(t=qn(t),t!==null&&po(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kf(e,t,s,a,c){switch(t){case"focusin":return Kt=Nn(Kt,e,t,s,a,c),!0;case"dragenter":return Gt=Nn(Gt,e,t,s,a,c),!0;case"mouseover":return Jt=Nn(Jt,e,t,s,a,c),!0;case"pointerover":var h=c.pointerId;return Rn.set(h,Nn(Rn.get(h)||null,e,t,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Pn.set(h,Nn(Pn.get(h)||null,e,t,s,a,c)),!0}return!1}function cu(e){var t=vr(e.target);if(t!==null){var s=mr(t);if(s!==null){if(t=s.tag,t===13){if(t=Jl(s),t!==null){e.blockedOn=t,lu(e.priority,function(){ou(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);no=a,s.target.dispatchEvent(a),no=null}else return t=qn(s),t!==null&&po(t),e.blockedOn=s,!1;t.shift()}return!0}function du(e,t,s){js(e)&&s.delete(t)}function Gf(){go=!1,Kt!==null&&js(Kt)&&(Kt=null),Gt!==null&&js(Gt)&&(Gt=null),Jt!==null&&js(Jt)&&(Jt=null),Rn.forEach(du),Pn.forEach(du)}function An(e,t){e.blockedOn===t&&(e.blockedOn=null,go||(go=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gf)))}function In(e){function t(c){return An(c,e)}if(0<Os.length){An(Os[0],e);for(var s=1;s<Os.length;s++){var a=Os[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Kt!==null&&An(Kt,e),Gt!==null&&An(Gt,e),Jt!==null&&An(Jt,e),Rn.forEach(t),Pn.forEach(t),s=0;s<Qt.length;s++)a=Qt[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qt.length&&(s=Qt[0],s.blockedOn===null);)cu(s),s.blockedOn===null&&Qt.shift()}var zr=W.ReactCurrentBatchConfig,Cs=!0;function Jf(e,t,s,a){var c=me,h=zr.transition;zr.transition=null;try{me=1,mo(e,t,s,a)}finally{me=c,zr.transition=h}}function Qf(e,t,s,a){var c=me,h=zr.transition;zr.transition=null;try{me=4,mo(e,t,s,a)}finally{me=c,zr.transition=h}}function mo(e,t,s,a){if(Cs){var c=vo(e,t,s,a);if(c===null)Io(e,t,a,Rs,s),uu(e,a);else if(Kf(c,e,t,s,a))a.stopPropagation();else if(uu(e,a),t&4&&-1<qf.indexOf(e)){for(;c!==null;){var h=qn(c);if(h!==null&&iu(h),h=vo(e,t,s,a),h===null&&Io(e,t,a,Rs,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else Io(e,t,a,null,s)}}var Rs=null;function vo(e,t,s,a){if(Rs=null,e=so(a),e=vr(e),e!==null)if(t=mr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Jl(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rs=e,null}function hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uf()){case uo:return 1;case tu:return 4;case Ss:case Df:return 16;case ru:return 536870912;default:return 16}default:return 16}}var Yt=null,yo=null,Ps=null;function fu(){if(Ps)return Ps;var e,t=yo,s=t.length,a,c="value"in Yt?Yt.value:Yt.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var g=s-e;for(a=1;a<=g&&t[s-a]===c[h-a];a++);return Ps=c.slice(e,1<a?1-a:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function pu(){return!1}function ot(e){function t(s,a,c,h,g){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?As:pu,this.isPropagationStopped=pu,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=ot(Mr),$n=V({},Mr,{view:0,detail:0}),Yf=ot($n),_o,ko,Ln,Is=V({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(_o=e.screenX-Ln.screenX,ko=e.screenY-Ln.screenY):ko=_o=0,Ln=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),gu=ot(Is),Xf=V({},Is,{dataTransfer:0}),Zf=ot(Xf),ep=V({},$n,{relatedTarget:0}),So=ot(ep),tp=V({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=ot(tp),np=V({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=ot(np),ip=V({},Mr,{data:0}),mu=ot(ip),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lp[e])?!!t[e]:!1}function Eo(){return up}var cp=V({},$n,{key:function(e){if(e.key){var t=op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=ot(cp),hp=V({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=ot(hp),fp=V({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),pp=ot(fp),gp=V({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mp=ot(gp),vp=V({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=ot(vp),wp=[9,13,27,32],xo=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var _p=f&&"TextEvent"in window&&!Un,yu=f&&(!xo||Un&&8<Un&&11>=Un),wu=" ",_u=!1;function ku(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function kp(e,t){switch(e){case"compositionend":return Su(t);case"keypress":return t.which!==32?null:(_u=!0,wu);case"textInput":return e=t.data,e===wu&&_u?null:e;default:return null}}function Sp(e,t){if(Fr)return e==="compositionend"||!xo&&ku(e,t)?(e=fu(),Ps=yo=Yt=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yu&&t.locale!=="ko"?null:t.data;default:return null}}var Ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ep[e.type]:t==="textarea"}function xu(e,t,s,a){Wl(a),t=Bs(t,"onChange"),0<t.length&&(s=new wo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Dn=null,Bn=null;function xp(e){Fu(e,0)}function $s(e){var t=Kr(e);if(Nl(t))return e}function bp(e,t){if(e==="change")return t}var bu=!1;if(f){var bo;if(f){var To="oninput"in document;if(!To){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),To=typeof Tu.oninput=="function"}bo=To}else bo=!1;bu=bo&&(!document.documentMode||9<document.documentMode)}function Ou(){Dn&&(Dn.detachEvent("onpropertychange",ju),Bn=Dn=null)}function ju(e){if(e.propertyName==="value"&&$s(Bn)){var t=[];xu(t,Bn,e,so(e)),Gl(xp,t)}}function Tp(e,t,s){e==="focusin"?(Ou(),Dn=t,Bn=s,Dn.attachEvent("onpropertychange",ju)):e==="focusout"&&Ou()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $s(Bn)}function jp(e,t){if(e==="click")return $s(t)}function Cp(e,t){if(e==="input"||e==="change")return $s(t)}function Rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Rp;function zn(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!p.call(t,c)||!St(e[c],t[c]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var s=Cu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cu(s)}}function Pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nu(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ys(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pp(e){var t=Nu(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Pu(s.ownerDocument.documentElement,s)){if(a!==null&&Oo(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=Ru(s,h);var g=Ru(s,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=f&&"documentMode"in document&&11>=document.documentMode,Vr=null,jo=null,Mn=null,Co=!1;function Au(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Co||Vr==null||Vr!==ys(a)||(a=Vr,"selectionStart"in a&&Oo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Mn&&zn(Mn,a)||(Mn=a,a=Bs(jo,"onSelect"),0<a.length&&(t=new wo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Vr)))}function Ls(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Wr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Ro={},Iu={};f&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Us(e){if(Ro[e])return Ro[e];if(!Wr[e])return e;var t=Wr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Iu)return Ro[e]=t[s];return e}var $u=Us("animationend"),Lu=Us("animationiteration"),Uu=Us("animationstart"),Du=Us("transitionend"),Bu=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Bu.set(e,t),u(t,[e])}for(var Po=0;Po<zu.length;Po++){var No=zu[Po],Ap=No.toLowerCase(),Ip=No[0].toUpperCase()+No.slice(1);Xt(Ap,"on"+Ip)}Xt($u,"onAnimationEnd"),Xt(Lu,"onAnimationIteration"),Xt(Uu,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Du,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function Mu(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Af(a,t,void 0,e),e.currentTarget=null}function Fu(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var g=a.length-1;0<=g;g--){var v=a[g],_=v.instance,P=v.currentTarget;if(v=v.listener,_!==h&&c.isPropagationStopped())break e;Mu(c,v,P),h=_}else for(g=0;g<a.length;g++){if(v=a[g],_=v.instance,P=v.currentTarget,v=v.listener,_!==h&&c.isPropagationStopped())break e;Mu(c,v,P),h=_}}}if(ks)throw e=lo,ks=!1,lo=null,e}function _e(e,t){var s=t[zo];s===void 0&&(s=t[zo]=new Set);var a=e+"__bubble";s.has(a)||(Vu(t,e,2,!1),s.add(a))}function Ao(e,t,s){var a=0;t&&(a|=4),Vu(s,e,a,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Ds]){e[Ds]=!0,o.forEach(function(s){s!=="selectionchange"&&($p.has(s)||Ao(s,!1,e),Ao(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,Ao("selectionchange",!1,t))}}function Vu(e,t,s,a){switch(hu(t)){case 1:var c=Jf;break;case 4:c=Qf;break;default:c=mo}s=c.bind(null,t,s,e),c=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function Io(e,t,s,a,c){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;g=g.return}for(;v!==null;){if(g=vr(v),g===null)return;if(_=g.tag,_===5||_===6){a=h=g;continue e}v=v.parentNode}}a=a.return}Gl(function(){var P=h,I=so(s),U=[];e:{var N=Bu.get(e);if(N!==void 0){var F=wo,K=e;switch(e){case"keypress":if(Ns(s)===0)break e;case"keydown":case"keyup":F=dp;break;case"focusin":K="focus",F=So;break;case"focusout":K="blur",F=So;break;case"beforeblur":case"afterblur":F=So;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=pp;break;case $u:case Lu:case Uu:F=rp;break;case Du:F=mp;break;case"scroll":F=Yf;break;case"wheel":F=yp;break;case"copy":case"cut":case"paste":F=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=vu}var G=(t&4)!==0,Pe=!G&&e==="scroll",j=G?N!==null?N+"Capture":null:N;G=[];for(var k=P,C;k!==null;){C=k;var B=C.stateNode;if(C.tag===5&&B!==null&&(C=B,j!==null&&(B=bn(k,j),B!=null&&G.push(Wn(k,B,C)))),Pe)break;k=k.return}0<G.length&&(N=new F(N,K,null,s,I),U.push({event:N,listeners:G}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==no&&(K=s.relatedTarget||s.fromElement)&&(vr(K)||K[Ut]))break e;if((F||N)&&(N=I.window===I?I:(N=I.ownerDocument)?N.defaultView||N.parentWindow:window,F?(K=s.relatedTarget||s.toElement,F=P,K=K?vr(K):null,K!==null&&(Pe=mr(K),K!==Pe||K.tag!==5&&K.tag!==6)&&(K=null)):(F=null,K=P),F!==K)){if(G=gu,B="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(G=vu,B="onPointerLeave",j="onPointerEnter",k="pointer"),Pe=F==null?N:Kr(F),C=K==null?N:Kr(K),N=new G(B,k+"leave",F,s,I),N.target=Pe,N.relatedTarget=C,B=null,vr(I)===P&&(G=new G(j,k+"enter",K,s,I),G.target=C,G.relatedTarget=Pe,B=G),Pe=B,F&&K)t:{for(G=F,j=K,k=0,C=G;C;C=Hr(C))k++;for(C=0,B=j;B;B=Hr(B))C++;for(;0<k-C;)G=Hr(G),k--;for(;0<C-k;)j=Hr(j),C--;for(;k--;){if(G===j||j!==null&&G===j.alternate)break t;G=Hr(G),j=Hr(j)}G=null}else G=null;F!==null&&Wu(U,N,F,G,!1),K!==null&&Pe!==null&&Wu(U,Pe,K,G,!0)}}e:{if(N=P?Kr(P):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var J=bp;else if(Eu(N))if(bu)J=Cp;else{J=Op;var Y=Tp}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(J=jp);if(J&&(J=J(e,P))){xu(U,J,s,I);break e}Y&&Y(e,N,P),e==="focusout"&&(Y=N._wrapperState)&&Y.controlled&&N.type==="number"&&Xi(N,"number",N.value)}switch(Y=P?Kr(P):window,e){case"focusin":(Eu(Y)||Y.contentEditable==="true")&&(Vr=Y,jo=P,Mn=null);break;case"focusout":Mn=jo=Vr=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,Au(U,s,I);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":Au(U,s,I)}var X;if(xo)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Fr?ku(e,s)&&(te="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(te="onCompositionStart");te&&(yu&&s.locale!=="ko"&&(Fr||te!=="onCompositionStart"?te==="onCompositionEnd"&&Fr&&(X=fu()):(Yt=I,yo="value"in Yt?Yt.value:Yt.textContent,Fr=!0)),Y=Bs(P,te),0<Y.length&&(te=new mu(te,e,null,s,I),U.push({event:te,listeners:Y}),X?te.data=X:(X=Su(s),X!==null&&(te.data=X)))),(X=_p?kp(e,s):Sp(e,s))&&(P=Bs(P,"onBeforeInput"),0<P.length&&(I=new mu("onBeforeInput","beforeinput",null,s,I),U.push({event:I,listeners:P}),I.data=X))}Fu(U,t)})}function Wn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Bs(e,t){for(var s=t+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=bn(e,s),h!=null&&a.unshift(Wn(e,h,c)),h=bn(e,t),h!=null&&a.push(Wn(e,h,c))),e=e.return}return a}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,s,a,c){for(var h=t._reactName,g=[];s!==null&&s!==a;){var v=s,_=v.alternate,P=v.stateNode;if(_!==null&&_===a)break;v.tag===5&&P!==null&&(v=P,c?(_=bn(s,h),_!=null&&g.unshift(Wn(s,_,v))):c||(_=bn(s,h),_!=null&&g.push(Wn(s,_,v)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var Lp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Hu(e){return(typeof e=="string"?e:""+e).replace(Lp,`
`).replace(Up,"")}function zs(e,t,s){if(t=Hu(t),Hu(e)!==t&&s)throw Error(n(425))}function Ms(){}var $o=null,Lo=null;function Uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(zp)}:Do;function zp(e){setTimeout(function(){throw e})}function Bo(e,t){var s=t,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),In(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);In(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+qr,Hn="__reactProps$"+qr,Ut="__reactContainer$"+qr,zo="__reactEvents$"+qr,Mp="__reactListeners$"+qr,Fp="__reactHandles$"+qr;function vr(e){var t=e[Nt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ut]||s[Nt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Ku(e);e!==null;){if(s=e[Nt])return s;e=Ku(e)}return t}e=s,s=e.parentNode}return null}function qn(e){return e=e[Nt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Fs(e){return e[Hn]||null}var Mo=[],Gr=-1;function er(e){return{current:e}}function ke(e){0>Gr||(e.current=Mo[Gr],Mo[Gr]=null,Gr--)}function ye(e,t){Gr++,Mo[Gr]=e.current,e.current=t}var tr={},Ve=er(tr),Ye=er(!1),yr=tr;function Jr(e,t){var s=e.type.contextTypes;if(!s)return tr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Xe(e){return e=e.childContextTypes,e!=null}function Vs(){ke(Ye),ke(Ve)}function Gu(e,t,s){if(Ve.current!==tr)throw Error(n(168));ye(Ve,t),ye(Ye,s)}function Ju(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(n(108,ve(e)||"Unknown",c));return V({},s,a)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,yr=Ve.current,ye(Ve,e),ye(Ye,Ye.current),!0}function Qu(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=Ju(e,t,yr),a.__reactInternalMemoizedMergedChildContext=e,ke(Ye),ke(Ve),ye(Ve,e)):ke(Ye),ye(Ye,s)}var Dt=null,Hs=!1,Fo=!1;function Yu(e){Dt===null?Dt=[e]:Dt.push(e)}function Vp(e){Hs=!0,Yu(e)}function rr(){if(!Fo&&Dt!==null){Fo=!0;var e=0,t=me;try{var s=Dt;for(me=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Dt=null,Hs=!1}catch(c){throw Dt!==null&&(Dt=Dt.slice(e+1)),Zl(uo,rr),c}finally{me=t,Fo=!1}}return null}var Qr=[],Yr=0,qs=null,Ks=0,pt=[],gt=0,wr=null,Bt=1,zt="";function _r(e,t){Qr[Yr++]=Ks,Qr[Yr++]=qs,qs=e,Ks=t}function Xu(e,t,s){pt[gt++]=Bt,pt[gt++]=zt,pt[gt++]=wr,wr=e;var a=Bt;e=zt;var c=32-kt(a)-1;a&=~(1<<c),s+=1;var h=32-kt(t)+c;if(30<h){var g=c-c%5;h=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Bt=1<<32-kt(t)+c|s<<c|a,zt=h+e}else Bt=1<<h|s<<c|a,zt=e}function Vo(e){e.return!==null&&(_r(e,1),Xu(e,1,0))}function Wo(e){for(;e===qs;)qs=Qr[--Yr],Qr[Yr]=null,Ks=Qr[--Yr],Qr[Yr]=null;for(;e===wr;)wr=pt[--gt],pt[gt]=null,zt=pt[--gt],pt[gt]=null,Bt=pt[--gt],pt[gt]=null}var at=null,lt=null,xe=!1,Et=null;function Zu(e,t){var s=wt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ec(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,lt=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=wr!==null?{id:Bt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=wt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,at=e,lt=null,!0):!1;default:return!1}}function Ho(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(xe){var t=lt;if(t){var s=t;if(!ec(e,t)){if(Ho(e))throw Error(n(418));t=Zt(s.nextSibling);var a=at;t&&ec(e,t)?Zu(a,s):(e.flags=e.flags&-4097|2,xe=!1,at=e)}}else{if(Ho(e))throw Error(n(418));e.flags=e.flags&-4097|2,xe=!1,at=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Gs(e){if(e!==at)return!1;if(!xe)return tc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uo(e.type,e.memoizedProps)),t&&(t=lt)){if(Ho(e))throw rc(),Error(n(418));for(;t;)Zu(e,t),t=Zt(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){lt=Zt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=at?Zt(e.stateNode.nextSibling):null;return!0}function rc(){for(var e=lt;e;)e=Zt(e.nextSibling)}function Xr(){lt=at=null,xe=!1}function Ko(e){Et===null?Et=[e]:Et.push(e)}var Wp=W.ReactCurrentBatchConfig;function Kn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var c=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var v=c.refs;g===null?delete v[h]:v[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nc(e){var t=e._init;return t(e._payload)}function sc(e){function t(j,k){if(e){var C=j.deletions;C===null?(j.deletions=[k],j.flags|=16):C.push(k)}}function s(j,k){if(!e)return null;for(;k!==null;)t(j,k),k=k.sibling;return null}function a(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function c(j,k){return j=cr(j,k),j.index=0,j.sibling=null,j}function h(j,k,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<k?(j.flags|=2,k):C):(j.flags|=2,k)):(j.flags|=1048576,k)}function g(j){return e&&j.alternate===null&&(j.flags|=2),j}function v(j,k,C,B){return k===null||k.tag!==6?(k=Da(C,j.mode,B),k.return=j,k):(k=c(k,C),k.return=j,k)}function _(j,k,C,B){var J=C.type;return J===se?I(j,k,C.props.children,B,C.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fe&&nc(J)===k.type)?(B=c(k,C.props),B.ref=Kn(j,k,C),B.return=j,B):(B=wi(C.type,C.key,C.props,null,j.mode,B),B.ref=Kn(j,k,C),B.return=j,B)}function P(j,k,C,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=Ba(C,j.mode,B),k.return=j,k):(k=c(k,C.children||[]),k.return=j,k)}function I(j,k,C,B,J){return k===null||k.tag!==7?(k=jr(C,j.mode,B,J),k.return=j,k):(k=c(k,C),k.return=j,k)}function U(j,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Da(""+k,j.mode,C),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ne:return C=wi(k.type,k.key,k.props,null,j.mode,C),C.ref=Kn(j,null,k),C.return=j,C;case re:return k=Ba(k,j.mode,C),k.return=j,k;case fe:var B=k._init;return U(j,B(k._payload),C)}if(Sn(k)||Z(k))return k=jr(k,j.mode,C,null),k.return=j,k;Js(j,k)}return null}function N(j,k,C,B){var J=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:v(j,k,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ne:return C.key===J?_(j,k,C,B):null;case re:return C.key===J?P(j,k,C,B):null;case fe:return J=C._init,N(j,k,J(C._payload),B)}if(Sn(C)||Z(C))return J!==null?null:I(j,k,C,B,null);Js(j,C)}return null}function F(j,k,C,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return j=j.get(C)||null,v(k,j,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ne:return j=j.get(B.key===null?C:B.key)||null,_(k,j,B,J);case re:return j=j.get(B.key===null?C:B.key)||null,P(k,j,B,J);case fe:var Y=B._init;return F(j,k,C,Y(B._payload),J)}if(Sn(B)||Z(B))return j=j.get(C)||null,I(k,j,B,J,null);Js(k,B)}return null}function K(j,k,C,B){for(var J=null,Y=null,X=k,te=k=0,Be=null;X!==null&&te<C.length;te++){X.index>te?(Be=X,X=null):Be=X.sibling;var he=N(j,X,C[te],B);if(he===null){X===null&&(X=Be);break}e&&X&&he.alternate===null&&t(j,X),k=h(he,k,te),Y===null?J=he:Y.sibling=he,Y=he,X=Be}if(te===C.length)return s(j,X),xe&&_r(j,te),J;if(X===null){for(;te<C.length;te++)X=U(j,C[te],B),X!==null&&(k=h(X,k,te),Y===null?J=X:Y.sibling=X,Y=X);return xe&&_r(j,te),J}for(X=a(j,X);te<C.length;te++)Be=F(X,j,te,C[te],B),Be!==null&&(e&&Be.alternate!==null&&X.delete(Be.key===null?te:Be.key),k=h(Be,k,te),Y===null?J=Be:Y.sibling=Be,Y=Be);return e&&X.forEach(function(dr){return t(j,dr)}),xe&&_r(j,te),J}function G(j,k,C,B){var J=Z(C);if(typeof J!="function")throw Error(n(150));if(C=J.call(C),C==null)throw Error(n(151));for(var Y=J=null,X=k,te=k=0,Be=null,he=C.next();X!==null&&!he.done;te++,he=C.next()){X.index>te?(Be=X,X=null):Be=X.sibling;var dr=N(j,X,he.value,B);if(dr===null){X===null&&(X=Be);break}e&&X&&dr.alternate===null&&t(j,X),k=h(dr,k,te),Y===null?J=dr:Y.sibling=dr,Y=dr,X=Be}if(he.done)return s(j,X),xe&&_r(j,te),J;if(X===null){for(;!he.done;te++,he=C.next())he=U(j,he.value,B),he!==null&&(k=h(he,k,te),Y===null?J=he:Y.sibling=he,Y=he);return xe&&_r(j,te),J}for(X=a(j,X);!he.done;te++,he=C.next())he=F(X,j,te,he.value,B),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?te:he.key),k=h(he,k,te),Y===null?J=he:Y.sibling=he,Y=he);return e&&X.forEach(function(Eg){return t(j,Eg)}),xe&&_r(j,te),J}function Pe(j,k,C,B){if(typeof C=="object"&&C!==null&&C.type===se&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ne:e:{for(var J=C.key,Y=k;Y!==null;){if(Y.key===J){if(J=C.type,J===se){if(Y.tag===7){s(j,Y.sibling),k=c(Y,C.props.children),k.return=j,j=k;break e}}else if(Y.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fe&&nc(J)===Y.type){s(j,Y.sibling),k=c(Y,C.props),k.ref=Kn(j,Y,C),k.return=j,j=k;break e}s(j,Y);break}else t(j,Y);Y=Y.sibling}C.type===se?(k=jr(C.props.children,j.mode,B,C.key),k.return=j,j=k):(B=wi(C.type,C.key,C.props,null,j.mode,B),B.ref=Kn(j,k,C),B.return=j,j=B)}return g(j);case re:e:{for(Y=C.key;k!==null;){if(k.key===Y)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){s(j,k.sibling),k=c(k,C.children||[]),k.return=j,j=k;break e}else{s(j,k);break}else t(j,k);k=k.sibling}k=Ba(C,j.mode,B),k.return=j,j=k}return g(j);case fe:return Y=C._init,Pe(j,k,Y(C._payload),B)}if(Sn(C))return K(j,k,C,B);if(Z(C))return G(j,k,C,B);Js(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(s(j,k.sibling),k=c(k,C),k.return=j,j=k):(s(j,k),k=Da(C,j.mode,B),k.return=j,j=k),g(j)):s(j,k)}return Pe}var Zr=sc(!0),ic=sc(!1),Qs=er(null),Ys=null,en=null,Go=null;function Jo(){Go=en=Ys=null}function Qo(e){var t=Qs.current;ke(Qs),e._currentValue=t}function Yo(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function tn(e,t){Ys=e,Go=en=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ze=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Go!==e)if(e={context:e,memoizedValue:t,next:null},en===null){if(Ys===null)throw Error(n(308));en=e,Ys.dependencies={lanes:0,firstContext:e}}else en=en.next=e;return t}var kr=null;function Xo(e){kr===null?kr=[e]:kr.push(e)}function oc(e,t,s,a){var c=t.interleaved;return c===null?(s.next=s,Xo(t)):(s.next=c.next,c.next=s),t.interleaved=s,Mt(e,a)}function Mt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var nr=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ue&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Mt(e,s)}return c=a.interleaved,c===null?(t.next=t,Xo(a)):(t.next=c.next,c.next=t),a.interleaved=t,Mt(e,s)}function Xs(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,fo(e,s)}}function lc(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Zs(e,t,s,a){var c=e.updateQueue;nr=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var _=v,P=_.next;_.next=null,g===null?h=P:g.next=P,g=_;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==g&&(v===null?I.firstBaseUpdate=P:v.next=P,I.lastBaseUpdate=_))}if(h!==null){var U=c.baseState;g=0,I=P=_=null,v=h;do{var N=v.lane,F=v.eventTime;if((a&N)===N){I!==null&&(I=I.next={eventTime:F,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var K=e,G=v;switch(N=t,F=s,G.tag){case 1:if(K=G.payload,typeof K=="function"){U=K.call(F,U,N);break e}U=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,N=typeof K=="function"?K.call(F,U,N):K,N==null)break e;U=V({},U,N);break e;case 2:nr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,N=c.effects,N===null?c.effects=[v]:N.push(v))}else F={eventTime:F,lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(P=I=F,_=U):I=I.next=F,g|=N;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;N=v,v=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);if(I===null&&(_=U),c.baseState=_,c.firstBaseUpdate=P,c.lastBaseUpdate=I,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);xr|=g,e.lanes=g,e.memoizedState=U}}function uc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var Gn={},At=er(Gn),Jn=er(Gn),Qn=er(Gn);function Sr(e){if(e===Gn)throw Error(n(174));return e}function ea(e,t){switch(ye(Qn,t),ye(Jn,e),ye(At,Gn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eo(t,e)}ke(At),ye(At,t)}function rn(){ke(At),ke(Jn),ke(Qn)}function cc(e){Sr(Qn.current);var t=Sr(At.current),s=eo(t,e.type);t!==s&&(ye(Jn,e),ye(At,s))}function ta(e){Jn.current===e&&(ke(At),ke(Jn))}var Te=er(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function na(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var ti=W.ReactCurrentDispatcher,sa=W.ReactCurrentBatchConfig,Er=0,Oe=null,Ie=null,Ue=null,ri=!1,Yn=!1,Xn=0,Hp=0;function We(){throw Error(n(321))}function ia(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!St(e[s],t[s]))return!1;return!0}function oa(e,t,s,a,c,h){if(Er=h,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?Jp:Qp,e=s(a,c),Yn){h=0;do{if(Yn=!1,Xn=0,25<=h)throw Error(n(301));h+=1,Ue=Ie=null,t.updateQueue=null,ti.current=Yp,e=s(a,c)}while(Yn)}if(ti.current=ii,t=Ie!==null&&Ie.next!==null,Er=0,Ue=Ie=Oe=null,ri=!1,t)throw Error(n(300));return e}function aa(){var e=Xn!==0;return Xn=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Oe.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function vt(){if(Ie===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Ue===null?Oe.memoizedState:Ue.next;if(t!==null)Ue=t,Ie=e;else{if(e===null)throw Error(n(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ue===null?Oe.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Zn(e,t){return typeof t=="function"?t(e):t}function la(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=Ie,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var v=g=null,_=null,P=h;do{var I=P.lane;if((Er&I)===I)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var U={lane:I,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(v=_=U,g=a):_=_.next=U,Oe.lanes|=I,xr|=I}P=P.next}while(P!==null&&P!==h);_===null?g=a:_.next=v,St(a,t.memoizedState)||(Ze=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=_,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Oe.lanes|=h,xr|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ua(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);St(h,t.memoizedState)||(Ze=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,a]}function dc(){}function hc(e,t){var s=Oe,a=vt(),c=t(),h=!St(a.memoizedState,c);if(h&&(a.memoizedState=c,Ze=!0),a=a.queue,ca(gc.bind(null,s,a,e),[e]),a.getSnapshot!==t||h||Ue!==null&&Ue.memoizedState.tag&1){if(s.flags|=2048,es(9,pc.bind(null,s,a,c,t),void 0,null),De===null)throw Error(n(349));(Er&30)!==0||fc(s,t,c)}return c}function fc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function pc(e,t,s,a){t.value=s,t.getSnapshot=a,mc(t)&&vc(e)}function gc(e,t,s){return s(function(){mc(t)&&vc(e)})}function mc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!St(e,s)}catch{return!0}}function vc(e){var t=Mt(e,1);t!==null&&Ot(t,e,1,-1)}function yc(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Gp.bind(null,Oe,e),[t.memoizedState,e]}function es(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function wc(){return vt().memoizedState}function ni(e,t,s,a){var c=It();Oe.flags|=e,c.memoizedState=es(1|t,s,void 0,a===void 0?null:a)}function si(e,t,s,a){var c=vt();a=a===void 0?null:a;var h=void 0;if(Ie!==null){var g=Ie.memoizedState;if(h=g.destroy,a!==null&&ia(a,g.deps)){c.memoizedState=es(t,s,h,a);return}}Oe.flags|=e,c.memoizedState=es(1|t,s,h,a)}function _c(e,t){return ni(8390656,8,e,t)}function ca(e,t){return si(2048,8,e,t)}function kc(e,t){return si(4,2,e,t)}function Sc(e,t){return si(4,4,e,t)}function Ec(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xc(e,t,s){return s=s!=null?s.concat([e]):null,si(4,4,Ec.bind(null,t,e),s)}function da(){}function bc(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&ia(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Tc(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&ia(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Oc(e,t,s){return(Er&21)===0?(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=s):(St(s,t)||(s=nu(),Oe.lanes|=s,xr|=s,e.baseState=!0),t)}function qp(e,t){var s=me;me=s!==0&&4>s?s:4,e(!0);var a=sa.transition;sa.transition={};try{e(!1),t()}finally{me=s,sa.transition=a}}function jc(){return vt().memoizedState}function Kp(e,t,s){var a=lr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Cc(e))Rc(t,s);else if(s=oc(e,t,s,a),s!==null){var c=Qe();Ot(s,e,a,c),Pc(s,t,a)}}function Gp(e,t,s){var a=lr(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))Rc(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,v=h(g,s);if(c.hasEagerState=!0,c.eagerState=v,St(v,g)){var _=t.interleaved;_===null?(c.next=c,Xo(t)):(c.next=_.next,_.next=c),t.interleaved=c;return}}catch{}finally{}s=oc(e,t,c,a),s!==null&&(c=Qe(),Ot(s,e,a,c),Pc(s,t,a))}}function Cc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Rc(e,t){Yn=ri=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Pc(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,fo(e,s)}}var ii={readContext:mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Jp={readContext:mt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:_c,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ni(4194308,4,Ec.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var s=It();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=It();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Kp.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:da,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=qp.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Oe,c=It();if(xe){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),De===null)throw Error(n(349));(Er&30)!==0||fc(a,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,_c(gc.bind(null,a,h,e),[e]),a.flags|=2048,es(9,pc.bind(null,a,h,s,t),void 0,null),s},useId:function(){var e=It(),t=De.identifierPrefix;if(xe){var s=zt,a=Bt;s=(a&~(1<<32-kt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Xn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Hp++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qp={readContext:mt,useCallback:bc,useContext:mt,useEffect:ca,useImperativeHandle:xc,useInsertionEffect:kc,useLayoutEffect:Sc,useMemo:Tc,useReducer:la,useRef:wc,useState:function(){return la(Zn)},useDebugValue:da,useDeferredValue:function(e){var t=vt();return Oc(t,Ie.memoizedState,e)},useTransition:function(){var e=la(Zn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:dc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1},Yp={readContext:mt,useCallback:bc,useContext:mt,useEffect:ca,useImperativeHandle:xc,useInsertionEffect:kc,useLayoutEffect:Sc,useMemo:Tc,useReducer:ua,useRef:wc,useState:function(){return ua(Zn)},useDebugValue:da,useDeferredValue:function(e){var t=vt();return Ie===null?t.memoizedState=e:Oc(t,Ie.memoizedState,e)},useTransition:function(){var e=ua(Zn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:dc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ha(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:V({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oi={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Qe(),c=lr(e),h=Ft(a,c);h.payload=t,s!=null&&(h.callback=s),t=sr(e,h,c),t!==null&&(Ot(t,e,c,a),Xs(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Qe(),c=lr(e),h=Ft(a,c);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=sr(e,h,c),t!==null&&(Ot(t,e,c,a),Xs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Qe(),a=lr(e),c=Ft(s,a);c.tag=2,t!=null&&(c.callback=t),t=sr(e,c,a),t!==null&&(Ot(t,e,a,s),Xs(t,e,a))}};function Nc(e,t,s,a,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):t.prototype&&t.prototype.isPureReactComponent?!zn(s,a)||!zn(c,h):!0}function Ac(e,t,s){var a=!1,c=tr,h=t.contextType;return typeof h=="object"&&h!==null?h=mt(h):(c=Xe(t)?yr:Ve.current,a=t.contextTypes,h=(a=a!=null)?Jr(e,c):tr),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Ic(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function fa(e,t,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Zo(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=mt(h):(h=Xe(t)?yr:Ve.current,c.context=Jr(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(ha(e,t,h,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&oi.enqueueReplaceState(c,c.state,null),Zs(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function nn(e,t){try{var s="",a=t;do s+=ce(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function pa(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ga(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Xp=typeof WeakMap=="function"?WeakMap:Map;function $c(e,t,s){s=Ft(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){fi||(fi=!0,Ra=a),ga(e,t)},s}function Lc(e,t,s){s=Ft(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;s.payload=function(){return a(c)},s.callback=function(){ga(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){ga(e,t),typeof a!="function"&&(or===null?or=new Set([this]):or.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),s}function Uc(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Xp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(s)||(c.add(s),e=hg.bind(null,e,t,s),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bc(e,t,s,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ft(-1,1),t.tag=2,sr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Zp=W.ReactCurrentOwner,Ze=!1;function Je(e,t,s,a){t.child=e===null?ic(t,null,s,a):Zr(t,e.child,s,a)}function zc(e,t,s,a,c){s=s.render;var h=t.ref;return tn(t,c),a=oa(e,t,s,a,h,c),s=aa(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vt(e,t,c)):(xe&&s&&Vo(t),t.flags|=1,Je(e,t,a,c),t.child)}function Mc(e,t,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!Ua(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,Fc(e,t,h,a,c)):(e=wi(s.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:zn,s(g,a)&&e.ref===t.ref)return Vt(e,t,c)}return t.flags|=1,e=cr(h,a),e.ref=t.ref,e.return=t,t.child=e}function Fc(e,t,s,a,c){if(e!==null){var h=e.memoizedProps;if(zn(h,a)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=a=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,Vt(e,t,c)}return ma(e,t,s,a,c)}function Vc(e,t,s){var a=t.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(on,ut),ut|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(on,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,ye(on,ut),ut|=a}else h!==null?(a=h.baseLanes|s,t.memoizedState=null):a=s,ye(on,ut),ut|=a;return Je(e,t,c,s),t.child}function Wc(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ma(e,t,s,a,c){var h=Xe(s)?yr:Ve.current;return h=Jr(t,h),tn(t,c),s=oa(e,t,s,a,h,c),a=aa(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Vt(e,t,c)):(xe&&a&&Vo(t),t.flags|=1,Je(e,t,s,c),t.child)}function Hc(e,t,s,a,c){if(Xe(s)){var h=!0;Ws(t)}else h=!1;if(tn(t,c),t.stateNode===null)li(e,t),Ac(t,s,a),fa(t,s,a,c),a=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var _=g.context,P=s.contextType;typeof P=="object"&&P!==null?P=mt(P):(P=Xe(s)?yr:Ve.current,P=Jr(t,P));var I=s.getDerivedStateFromProps,U=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==a||_!==P)&&Ic(t,g,a,P),nr=!1;var N=t.memoizedState;g.state=N,Zs(t,a,g,c),_=t.memoizedState,v!==a||N!==_||Ye.current||nr?(typeof I=="function"&&(ha(t,s,I,a),_=t.memoizedState),(v=nr||Nc(t,s,v,a,N,_,P))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),g.props=a,g.state=_,g.context=P,a=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,ac(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:xt(t.type,v),g.props=P,U=t.pendingProps,N=g.context,_=s.contextType,typeof _=="object"&&_!==null?_=mt(_):(_=Xe(s)?yr:Ve.current,_=Jr(t,_));var F=s.getDerivedStateFromProps;(I=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==U||N!==_)&&Ic(t,g,a,_),nr=!1,N=t.memoizedState,g.state=N,Zs(t,a,g,c);var K=t.memoizedState;v!==U||N!==K||Ye.current||nr?(typeof F=="function"&&(ha(t,s,F,a),K=t.memoizedState),(P=nr||Nc(t,s,P,a,N,K,_)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,K,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,K,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=K),g.props=a,g.state=K,g.context=_,a=P):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return va(e,t,s,a,h,c)}function va(e,t,s,a,c,h){Wc(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&Qu(t,s,!1),Vt(e,t,h);a=t.stateNode,Zp.current=t;var v=g&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=Zr(t,e.child,null,h),t.child=Zr(t,null,v,h)):Je(e,t,v,h),t.memoizedState=a.state,c&&Qu(t,s,!0),t.child}function qc(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),ea(e,t.containerInfo)}function Kc(e,t,s,a,c){return Xr(),Ko(c),t.flags|=256,Je(e,t,s,a),t.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gc(e,t,s){var a=t.pendingProps,c=Te.current,h=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ye(Te,c&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,h?(a=t.mode,h=t.child,g={mode:"hidden",children:g},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=_i(g,a,0,null),e=jr(e,a,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=wa(s),t.memoizedState=ya,e):_a(t,g));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return eg(e,t,g,a,v,c,s);if(h){h=a.fallback,g=t.mode,c=e.child,v=c.sibling;var _={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=_,t.deletions=null):(a=cr(c,_),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?h=cr(v,h):(h=jr(h,g,s,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,g=e.child.memoizedState,g=g===null?wa(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~s,t.memoizedState=ya,a}return h=e.child,e=h.sibling,a=cr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function _a(e,t){return t=_i({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,s,a){return a!==null&&Ko(a),Zr(t,e.child,null,s),e=_a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eg(e,t,s,a,c,h,g){if(s)return t.flags&256?(t.flags&=-257,a=pa(Error(n(422))),ai(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,c=t.mode,a=_i({mode:"visible",children:a.children},c,0,null),h=jr(h,c,g,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&Zr(t,e.child,null,g),t.child.memoizedState=wa(g),t.memoizedState=ya,h);if((t.mode&1)===0)return ai(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,h=Error(n(419)),a=pa(h,a,void 0),ai(e,t,g,a)}if(v=(g&e.childLanes)!==0,Ze||v){if(a=De,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Mt(e,c),Ot(a,e,c,-1))}return La(),a=pa(Error(n(421))),ai(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=fg.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,lt=Zt(c.nextSibling),at=t,xe=!0,Et=null,e!==null&&(pt[gt++]=Bt,pt[gt++]=zt,pt[gt++]=wr,Bt=e.id,zt=e.overflow,wr=t),t=_a(t,a.children),t.flags|=4096,t)}function Jc(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yo(e.return,t,s)}function ka(e,t,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function Qc(e,t,s){var a=t.pendingProps,c=a.revealOrder,h=a.tail;if(Je(e,t,a.children,s),a=Te.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jc(e,s,t);else if(e.tag===19)Jc(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ye(Te,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&ei(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),ka(t,!1,c,s,h);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ei(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ka(t,!0,s,null,h);break;case"together":ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=cr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=cr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function tg(e,t,s){switch(t.tag){case 3:qc(t),Xr();break;case 5:cc(t);break;case 1:Xe(t.type)&&Ws(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;ye(Qs,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ye(Te,Te.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Gc(e,t,s):(ye(Te,Te.current&1),e=Vt(e,t,s),e!==null?e.sibling:null);ye(Te,Te.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Qc(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ye(Te,Te.current),a)break;return null;case 22:case 23:return t.lanes=0,Vc(e,t,s)}return Vt(e,t,s)}var Yc,Sa,Xc,Zc;Yc=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Sa=function(){},Xc=function(e,t,s,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Sr(At.current);var h=null;switch(s){case"input":c=Qi(e,c),a=Qi(e,a),h=[];break;case"select":c=V({},c,{value:void 0}),a=V({},a,{value:void 0}),h=[];break;case"textarea":c=Zi(e,c),a=Zi(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ms)}to(s,a);var g;s=null;for(P in c)if(!a.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var v=c[P];for(g in v)v.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in a){var _=a[P];if(v=c!=null?c[P]:void 0,a.hasOwnProperty(P)&&_!==v&&(_!=null||v!=null))if(P==="style")if(v){for(g in v)!v.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in _)_.hasOwnProperty(g)&&v[g]!==_[g]&&(s||(s={}),s[g]=_[g])}else s||(h||(h=[]),h.push(P,s)),s=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(h=h||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&_e("scroll",e),h||v===_||(h=[])):(h=h||[]).push(P,_))}s&&(h=h||[]).push("style",s);var P=h;(t.updateQueue=P)&&(t.flags|=4)}},Zc=function(e,t,s,a){s!==a&&(t.flags|=4)};function ts(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function rg(e,t,s){var a=t.pendingProps;switch(Wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Xe(t.type)&&Vs(),He(t),null;case 3:return a=t.stateNode,rn(),ke(Ye),ke(Ve),na(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(Aa(Et),Et=null))),Sa(e,t),He(t),null;case 5:ta(t);var c=Sr(Qn.current);if(s=t.type,e!==null&&t.stateNode!=null)Xc(e,t,s,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return He(t),null}if(e=Sr(At.current),Gs(t)){a=t.stateNode,s=t.type;var h=t.memoizedProps;switch(a[Nt]=t,a[Hn]=h,e=(t.mode&1)!==0,s){case"dialog":_e("cancel",a),_e("close",a);break;case"iframe":case"object":case"embed":_e("load",a);break;case"video":case"audio":for(c=0;c<Fn.length;c++)_e(Fn[c],a);break;case"source":_e("error",a);break;case"img":case"image":case"link":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"input":Al(a,h),_e("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},_e("invalid",a);break;case"textarea":Ll(a,h),_e("invalid",a)}to(s,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var v=h[g];g==="children"?typeof v=="string"?a.textContent!==v&&(h.suppressHydrationWarning!==!0&&zs(a.textContent,v,e),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&zs(a.textContent,v,e),c=["children",""+v]):l.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&_e("scroll",a)}switch(s){case"input":vs(a),$l(a,h,!0);break;case"textarea":vs(a),Dl(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Ms)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bl(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(s,{is:a.is}):(e=g.createElement(s),s==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,s),e[Nt]=t,e[Hn]=a,Yc(e,t,!1,!1),t.stateNode=e;e:{switch(g=ro(s,a),s){case"dialog":_e("cancel",e),_e("close",e),c=a;break;case"iframe":case"object":case"embed":_e("load",e),c=a;break;case"video":case"audio":for(c=0;c<Fn.length;c++)_e(Fn[c],e);c=a;break;case"source":_e("error",e),c=a;break;case"img":case"image":case"link":_e("error",e),_e("load",e),c=a;break;case"details":_e("toggle",e),c=a;break;case"input":Al(e,a),c=Qi(e,a),_e("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=V({},a,{value:void 0}),_e("invalid",e);break;case"textarea":Ll(e,a),c=Zi(e,a),_e("invalid",e);break;default:c=a}to(s,c),v=c;for(h in v)if(v.hasOwnProperty(h)){var _=v[h];h==="style"?Fl(e,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&zl(e,_)):h==="children"?typeof _=="string"?(s!=="textarea"||_!=="")&&En(e,_):typeof _=="number"&&En(e,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?_!=null&&h==="onScroll"&&_e("scroll",e):_!=null&&L(e,h,_,g))}switch(s){case"input":vs(e),$l(e,a,!1);break;case"textarea":vs(e),Dl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ge(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Ur(e,!!a.multiple,h,!1):a.defaultValue!=null&&Ur(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ms)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Zc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=Sr(Qn.current),Sr(At.current),Gs(t)){if(a=t.stateNode,s=t.memoizedProps,a[Nt]=t,(h=a.nodeValue!==s)&&(e=at,e!==null))switch(e.tag){case 3:zs(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(a.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Nt]=t,t.stateNode=a}return He(t),null;case 13:if(ke(Te),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)rc(),Xr(),t.flags|=98560,h=!1;else if(h=Gs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Nt]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),h=!1}else Et!==null&&(Aa(Et),Et=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Te.current&1)!==0?$e===0&&($e=3):La())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return rn(),Sa(e,t),e===null&&Vn(t.stateNode.containerInfo),He(t),null;case 10:return Qo(t.type._context),He(t),null;case 17:return Xe(t.type)&&Vs(),He(t),null;case 19:if(ke(Te),h=t.memoizedState,h===null)return He(t),null;if(a=(t.flags&128)!==0,g=h.rendering,g===null)if(a)ts(h,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=ei(e),g!==null){for(t.flags|=128,ts(h,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)h=s,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Te,Te.current&1|2),t.child}e=e.sibling}h.tail!==null&&Re()>an&&(t.flags|=128,a=!0,ts(h,!1),t.lanes=4194304)}else{if(!a)if(e=ei(g),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ts(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!xe)return He(t),null}else 2*Re()-h.renderingStartTime>an&&s!==1073741824&&(t.flags|=128,a=!0,ts(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(s=h.last,s!==null?s.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Re(),t.sibling=null,s=Te.current,ye(Te,a?s&1|2:s&1),t):(He(t),null);case 22:case 23:return $a(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ut&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function ng(e,t){switch(Wo(t),t.tag){case 1:return Xe(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(),ke(Ye),ke(Ve),na(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ta(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return rn(),null;case 10:return Qo(t.type._context),null;case 22:case 23:return $a(),null;case 24:return null;default:return null}}var ui=!1,qe=!1,sg=typeof WeakSet=="function"?WeakSet:Set,H=null;function sn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ce(e,t,a)}else s.current=null}function Ea(e,t,s){try{s()}catch(a){Ce(e,t,a)}}var ed=!1;function ig(e,t){if($o=Cs,e=Nu(),Oo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,v=-1,_=-1,P=0,I=0,U=e,N=null;t:for(;;){for(var F;U!==s||c!==0&&U.nodeType!==3||(v=g+c),U!==h||a!==0&&U.nodeType!==3||(_=g+a),U.nodeType===3&&(g+=U.nodeValue.length),(F=U.firstChild)!==null;)N=U,U=F;for(;;){if(U===e)break t;if(N===s&&++P===c&&(v=g),N===h&&++I===a&&(_=g),(F=U.nextSibling)!==null)break;U=N,N=U.parentNode}U=F}s=v===-1||_===-1?null:{start:v,end:_}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lo={focusedElem:e,selectionRange:s},Cs=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Pe=K.memoizedState,j=t.stateNode,k=j.getSnapshotBeforeUpdate(t.elementType===t.type?G:xt(t.type,G),Pe);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){Ce(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return K=ed,ed=!1,K}function rs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Ea(t,s,h)}c=c.next}while(c!==a)}}function ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function xa(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function td(e){var t=e.alternate;t!==null&&(e.alternate=null,td(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Hn],delete t[zo],delete t[Mp],delete t[Fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ba(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ms));else if(a!==4&&(e=e.child,e!==null))for(ba(e,t,s),e=e.sibling;e!==null;)ba(e,t,s),e=e.sibling}function Ta(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ta(e,t,s),e=e.sibling;e!==null;)Ta(e,t,s),e=e.sibling}var ze=null,bt=!1;function ir(e,t,s){for(s=s.child;s!==null;)sd(e,t,s),s=s.sibling}function sd(e,t,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Es,s)}catch{}switch(s.tag){case 5:qe||sn(s,t);case 6:var a=ze,c=bt;ze=null,ir(e,t,s),ze=a,bt=c,ze!==null&&(bt?(e=ze,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ze.removeChild(s.stateNode));break;case 18:ze!==null&&(bt?(e=ze,s=s.stateNode,e.nodeType===8?Bo(e.parentNode,s):e.nodeType===1&&Bo(e,s),In(e)):Bo(ze,s.stateNode));break;case 4:a=ze,c=bt,ze=s.stateNode.containerInfo,bt=!0,ir(e,t,s),ze=a,bt=c;break;case 0:case 11:case 14:case 15:if(!qe&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Ea(s,t,g),c=c.next}while(c!==a)}ir(e,t,s);break;case 1:if(!qe&&(sn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(v){Ce(s,t,v)}ir(e,t,s);break;case 21:ir(e,t,s);break;case 22:s.mode&1?(qe=(a=qe)||s.memoizedState!==null,ir(e,t,s),qe=a):ir(e,t,s);break;default:ir(e,t,s)}}function id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new sg),t.forEach(function(a){var c=pg.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Tt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:ze=v.stateNode,bt=!1;break e;case 3:ze=v.stateNode.containerInfo,bt=!0;break e;case 4:ze=v.stateNode.containerInfo,bt=!0;break e}v=v.return}if(ze===null)throw Error(n(160));sd(h,g,c),ze=null,bt=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(P){Ce(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)od(t,e),t=t.sibling}function od(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),$t(e),a&4){try{rs(3,e,e.return),ci(3,e)}catch(G){Ce(e,e.return,G)}try{rs(5,e,e.return)}catch(G){Ce(e,e.return,G)}}break;case 1:Tt(t,e),$t(e),a&512&&s!==null&&sn(s,s.return);break;case 5:if(Tt(t,e),$t(e),a&512&&s!==null&&sn(s,s.return),e.flags&32){var c=e.stateNode;try{En(c,"")}catch(G){Ce(e,e.return,G)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,g=s!==null?s.memoizedProps:h,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&Il(c,h),ro(v,g);var P=ro(v,h);for(g=0;g<_.length;g+=2){var I=_[g],U=_[g+1];I==="style"?Fl(c,U):I==="dangerouslySetInnerHTML"?zl(c,U):I==="children"?En(c,U):L(c,I,U,P)}switch(v){case"input":Yi(c,h);break;case"textarea":Ul(c,h);break;case"select":var N=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var F=h.value;F!=null?Ur(c,!!h.multiple,F,!1):N!==!!h.multiple&&(h.defaultValue!=null?Ur(c,!!h.multiple,h.defaultValue,!0):Ur(c,!!h.multiple,h.multiple?[]:"",!1))}c[Hn]=h}catch(G){Ce(e,e.return,G)}}break;case 6:if(Tt(t,e),$t(e),a&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(G){Ce(e,e.return,G)}}break;case 3:if(Tt(t,e),$t(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(G){Ce(e,e.return,G)}break;case 4:Tt(t,e),$t(e);break;case 13:Tt(t,e),$t(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Ca=Re())),a&4&&id(e);break;case 22:if(I=s!==null&&s.memoizedState!==null,e.mode&1?(qe=(P=qe)||I,Tt(t,e),qe=P):Tt(t,e),$t(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!I&&(e.mode&1)!==0)for(H=e,I=e.child;I!==null;){for(U=H=I;H!==null;){switch(N=H,F=N.child,N.tag){case 0:case 11:case 14:case 15:rs(4,N,N.return);break;case 1:sn(N,N.return);var K=N.stateNode;if(typeof K.componentWillUnmount=="function"){a=N,s=N.return;try{t=a,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Ce(a,s,G)}}break;case 5:sn(N,N.return);break;case 22:if(N.memoizedState!==null){ud(U);continue}}F!==null?(F.return=N,H=F):ud(U)}I=I.sibling}e:for(I=null,U=e;;){if(U.tag===5){if(I===null){I=U;try{c=U.stateNode,P?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=U.stateNode,_=U.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Ml("display",g))}catch(G){Ce(e,e.return,G)}}}else if(U.tag===6){if(I===null)try{U.stateNode.nodeValue=P?"":U.memoizedProps}catch(G){Ce(e,e.return,G)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;I===U&&(I=null),U=U.return}I===U&&(I=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Tt(t,e),$t(e),a&4&&id(e);break;case 21:break;default:Tt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(rd(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(En(c,""),a.flags&=-33);var h=nd(e);Ta(e,h,c);break;case 3:case 4:var g=a.stateNode.containerInfo,v=nd(e);ba(e,v,g);break;default:throw Error(n(161))}}catch(_){Ce(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function og(e,t,s){H=e,ad(e)}function ad(e,t,s){for(var a=(e.mode&1)!==0;H!==null;){var c=H,h=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||ui;if(!g){var v=c.alternate,_=v!==null&&v.memoizedState!==null||qe;v=ui;var P=qe;if(ui=g,(qe=_)&&!P)for(H=c;H!==null;)g=H,_=g.child,g.tag===22&&g.memoizedState!==null?cd(c):_!==null?(_.return=g,H=_):cd(c);for(;h!==null;)H=h,ad(h),h=h.sibling;H=c,ui=v,qe=P}ld(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,H=h):ld(e)}}function ld(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:qe||ci(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!qe)if(s===null)a.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:xt(t.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&uc(t,h,a);break;case 3:var g=t.updateQueue;if(g!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}uc(t,g,s)}break;case 5:var v=t.stateNode;if(s===null&&t.flags&4){s=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&s.focus();break;case"img":_.src&&(s.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var I=P.memoizedState;if(I!==null){var U=I.dehydrated;U!==null&&In(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qe||t.flags&512&&xa(t)}catch(N){Ce(t,t.return,N)}}if(t===e){H=null;break}if(s=t.sibling,s!==null){s.return=t.return,H=s;break}H=t.return}}function ud(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}function cd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ci(4,t)}catch(_){Ce(t,s,_)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(_){Ce(t,c,_)}}var h=t.return;try{xa(t)}catch(_){Ce(t,h,_)}break;case 5:var g=t.return;try{xa(t)}catch(_){Ce(t,g,_)}}}catch(_){Ce(t,t.return,_)}if(t===e){H=null;break}var v=t.sibling;if(v!==null){v.return=t.return,H=v;break}H=t.return}}var ag=Math.ceil,di=W.ReactCurrentDispatcher,Oa=W.ReactCurrentOwner,yt=W.ReactCurrentBatchConfig,ue=0,De=null,Ne=null,Me=0,ut=0,on=er(0),$e=0,ns=null,xr=0,hi=0,ja=0,ss=null,et=null,Ca=0,an=1/0,Wt=null,fi=!1,Ra=null,or=null,pi=!1,ar=null,gi=0,is=0,Pa=null,mi=-1,vi=0;function Qe(){return(ue&6)!==0?Re():mi!==-1?mi:mi=Re()}function lr(e){return(e.mode&1)===0?1:(ue&2)!==0&&Me!==0?Me&-Me:Wp.transition!==null?(vi===0&&(vi=nu()),vi):(e=me,e!==0||(e=window.event,e=e===void 0?16:hu(e.type)),e)}function Ot(e,t,s,a){if(50<is)throw is=0,Pa=null,Error(n(185));Cn(e,s,a),((ue&2)===0||e!==De)&&(e===De&&((ue&2)===0&&(hi|=s),$e===4&&ur(e,Me)),tt(e,a),s===1&&ue===0&&(t.mode&1)===0&&(an=Re()+500,Hs&&rr()))}function tt(e,t){var s=e.callbackNode;Wf(e,t);var a=Ts(e,e===De?Me:0);if(a===0)s!==null&&eu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&eu(s),t===1)e.tag===0?Vp(hd.bind(null,e)):Yu(hd.bind(null,e)),Bp(function(){(ue&6)===0&&rr()}),s=null;else{switch(su(a)){case 1:s=uo;break;case 4:s=tu;break;case 16:s=Ss;break;case 536870912:s=ru;break;default:s=Ss}s=_d(s,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function dd(e,t){if(mi=-1,vi=0,(ue&6)!==0)throw Error(n(327));var s=e.callbackNode;if(ln()&&e.callbackNode!==s)return null;var a=Ts(e,e===De?Me:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=yi(e,a);else{t=a;var c=ue;ue|=2;var h=pd();(De!==e||Me!==t)&&(Wt=null,an=Re()+500,Tr(e,t));do try{cg();break}catch(v){fd(e,v)}while(!0);Jo(),di.current=h,ue=c,Ne!==null?t=0:(De=null,Me=0,t=$e)}if(t!==0){if(t===2&&(c=co(e),c!==0&&(a=c,t=Na(e,c))),t===1)throw s=ns,Tr(e,0),ur(e,a),tt(e,Re()),s;if(t===6)ur(e,a);else{if(c=e.current.alternate,(a&30)===0&&!lg(c)&&(t=yi(e,a),t===2&&(h=co(e),h!==0&&(a=h,t=Na(e,h))),t===1))throw s=ns,Tr(e,0),ur(e,a),tt(e,Re()),s;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Or(e,et,Wt);break;case 3:if(ur(e,a),(a&130023424)===a&&(t=Ca+500-Re(),10<t)){if(Ts(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Qe(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Do(Or.bind(null,e,et,Wt),t);break}Or(e,et,Wt);break;case 4:if(ur(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-kt(a);h=1<<g,g=t[g],g>c&&(c=g),a&=~h}if(a=c,a=Re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ag(a/1960))-a,10<a){e.timeoutHandle=Do(Or.bind(null,e,et,Wt),a);break}Or(e,et,Wt);break;case 5:Or(e,et,Wt);break;default:throw Error(n(329))}}}return tt(e,Re()),e.callbackNode===s?dd.bind(null,e):null}function Na(e,t){var s=ss;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=yi(e,t),e!==2&&(t=et,et=s,t!==null&&Aa(t)),e}function Aa(e){et===null?et=e:et.push.apply(et,e)}function lg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!St(h(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~ja,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-kt(t),a=1<<s;e[s]=-1,t&=~a}}function hd(e){if((ue&6)!==0)throw Error(n(327));ln();var t=Ts(e,0);if((t&1)===0)return tt(e,Re()),null;var s=yi(e,t);if(e.tag!==0&&s===2){var a=co(e);a!==0&&(t=a,s=Na(e,a))}if(s===1)throw s=ns,Tr(e,0),ur(e,t),tt(e,Re()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,et,Wt),tt(e,Re()),null}function Ia(e,t){var s=ue;ue|=1;try{return e(t)}finally{ue=s,ue===0&&(an=Re()+500,Hs&&rr())}}function br(e){ar!==null&&ar.tag===0&&(ue&6)===0&&ln();var t=ue;ue|=1;var s=yt.transition,a=me;try{if(yt.transition=null,me=1,e)return e()}finally{me=a,yt.transition=s,ue=t,(ue&6)===0&&rr()}}function $a(){ut=on.current,ke(on)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Dp(s)),Ne!==null)for(s=Ne.return;s!==null;){var a=s;switch(Wo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Vs();break;case 3:rn(),ke(Ye),ke(Ve),na();break;case 5:ta(a);break;case 4:rn();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:Qo(a.type._context);break;case 22:case 23:$a()}s=s.return}if(De=e,Ne=e=cr(e.current,null),Me=ut=t,$e=0,ns=null,ja=hi=xr=0,et=ss=null,kr!==null){for(t=0;t<kr.length;t++)if(s=kr[t],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var g=h.next;h.next=c,a.next=g}s.pending=a}kr=null}return e}function fd(e,t){do{var s=Ne;try{if(Jo(),ti.current=ii,ri){for(var a=Oe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ri=!1}if(Er=0,Ue=Ie=Oe=null,Yn=!1,Xn=0,Oa.current=null,s===null||s.return===null){$e=1,ns=t,Ne=null;break}e:{var h=e,g=s.return,v=s,_=t;if(t=Me,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,I=v,U=I.tag;if((I.mode&1)===0&&(U===0||U===11||U===15)){var N=I.alternate;N?(I.updateQueue=N.updateQueue,I.memoizedState=N.memoizedState,I.lanes=N.lanes):(I.updateQueue=null,I.memoizedState=null)}var F=Dc(g);if(F!==null){F.flags&=-257,Bc(F,g,v,h,t),F.mode&1&&Uc(h,P,t),t=F,_=P;var K=t.updateQueue;if(K===null){var G=new Set;G.add(_),t.updateQueue=G}else K.add(_);break e}else{if((t&1)===0){Uc(h,P,t),La();break e}_=Error(n(426))}}else if(xe&&v.mode&1){var Pe=Dc(g);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),Bc(Pe,g,v,h,t),Ko(nn(_,v));break e}}h=_=nn(_,v),$e!==4&&($e=2),ss===null?ss=[h]:ss.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var j=$c(h,_,t);lc(h,j);break e;case 1:v=_;var k=h.type,C=h.stateNode;if((h.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(or===null||!or.has(C)))){h.flags|=65536,t&=-t,h.lanes|=t;var B=Lc(h,v,t);lc(h,B);break e}}h=h.return}while(h!==null)}md(s)}catch(J){t=J,Ne===s&&s!==null&&(Ne=s=s.return);continue}break}while(!0)}function pd(){var e=di.current;return di.current=ii,e===null?ii:e}function La(){($e===0||$e===3||$e===2)&&($e=4),De===null||(xr&268435455)===0&&(hi&268435455)===0||ur(De,Me)}function yi(e,t){var s=ue;ue|=2;var a=pd();(De!==e||Me!==t)&&(Wt=null,Tr(e,t));do try{ug();break}catch(c){fd(e,c)}while(!0);if(Jo(),ue=s,di.current=a,Ne!==null)throw Error(n(261));return De=null,Me=0,$e}function ug(){for(;Ne!==null;)gd(Ne)}function cg(){for(;Ne!==null&&!$f();)gd(Ne)}function gd(e){var t=wd(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?md(e):Ne=t,Oa.current=null}function md(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=rg(s,t,ut),s!==null){Ne=s;return}}else{if(s=ng(s,t),s!==null){s.flags&=32767,Ne=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ne=null;return}}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);$e===0&&($e=5)}function Or(e,t,s){var a=me,c=yt.transition;try{yt.transition=null,me=1,dg(e,t,s,a)}finally{yt.transition=c,me=a}return null}function dg(e,t,s,a){do ln();while(ar!==null);if((ue&6)!==0)throw Error(n(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Hf(e,h),e===De&&(Ne=De=null,Me=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||pi||(pi=!0,_d(Ss,function(){return ln(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=yt.transition,yt.transition=null;var g=me;me=1;var v=ue;ue|=4,Oa.current=null,ig(e,s),od(s,e),Pp(Lo),Cs=!!$o,Lo=$o=null,e.current=s,og(s),Lf(),ue=v,me=g,yt.transition=h}else e.current=s;if(pi&&(pi=!1,ar=e,gi=c),h=e.pendingLanes,h===0&&(or=null),Bf(s.stateNode),tt(e,Re()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(fi)throw fi=!1,e=Ra,Ra=null,e;return(gi&1)!==0&&e.tag!==0&&ln(),h=e.pendingLanes,(h&1)!==0?e===Pa?is++:(is=0,Pa=e):is=0,rr(),null}function ln(){if(ar!==null){var e=su(gi),t=yt.transition,s=me;try{if(yt.transition=null,me=16>e?16:e,ar===null)var a=!1;else{if(e=ar,ar=null,gi=0,(ue&6)!==0)throw Error(n(331));var c=ue;for(ue|=4,H=e.current;H!==null;){var h=H,g=h.child;if((H.flags&16)!==0){var v=h.deletions;if(v!==null){for(var _=0;_<v.length;_++){var P=v[_];for(H=P;H!==null;){var I=H;switch(I.tag){case 0:case 11:case 15:rs(8,I,h)}var U=I.child;if(U!==null)U.return=I,H=U;else for(;H!==null;){I=H;var N=I.sibling,F=I.return;if(td(I),I===P){H=null;break}if(N!==null){N.return=F,H=N;break}H=F}}}var K=h.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Pe=G.sibling;G.sibling=null,G=Pe}while(G!==null)}}H=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,H=g;else e:for(;H!==null;){if(h=H,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:rs(9,h,h.return)}var j=h.sibling;if(j!==null){j.return=h.return,H=j;break e}H=h.return}}var k=e.current;for(H=k;H!==null;){g=H;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,H=C;else e:for(g=k;H!==null;){if(v=H,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:ci(9,v)}}catch(J){Ce(v,v.return,J)}if(v===g){H=null;break e}var B=v.sibling;if(B!==null){B.return=v.return,H=B;break e}H=v.return}}if(ue=c,rr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Es,e)}catch{}a=!0}return a}finally{me=s,yt.transition=t}}return!1}function vd(e,t,s){t=nn(s,t),t=$c(e,t,1),e=sr(e,t,1),t=Qe(),e!==null&&(Cn(e,1,t),tt(e,t))}function Ce(e,t,s){if(e.tag===3)vd(e,e,s);else for(;t!==null;){if(t.tag===3){vd(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(or===null||!or.has(a))){e=nn(s,e),e=Lc(t,e,1),t=sr(t,e,1),e=Qe(),t!==null&&(Cn(t,1,e),tt(t,e));break}}t=t.return}}function hg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(Me&s)===s&&($e===4||$e===3&&(Me&130023424)===Me&&500>Re()-Ca?Tr(e,0):ja|=s),tt(e,t)}function yd(e,t){t===0&&((e.mode&1)===0?t=1:(t=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var s=Qe();e=Mt(e,t),e!==null&&(Cn(e,t,s),tt(e,s))}function fg(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),yd(e,s)}function pg(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),yd(e,s)}var wd;wd=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ze=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return Ze=!1,tg(e,t,s);Ze=(e.flags&131072)!==0}else Ze=!1,xe&&(t.flags&1048576)!==0&&Xu(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;li(e,t),e=t.pendingProps;var c=Jr(t,Ve.current);tn(t,s),c=oa(null,t,a,e,c,s);var h=aa();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(a)?(h=!0,Ws(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Zo(t),c.updater=oi,t.stateNode=c,c._reactInternals=t,fa(t,a,e,s),t=va(null,t,a,!0,h,s)):(t.tag=0,xe&&h&&Vo(t),Je(null,t,c,s),t=t.child),t;case 16:a=t.elementType;e:{switch(li(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=mg(a),e=xt(a,e),c){case 0:t=ma(null,t,a,e,s);break e;case 1:t=Hc(null,t,a,e,s);break e;case 11:t=zc(null,t,a,e,s);break e;case 14:t=Mc(null,t,a,xt(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:xt(a,c),ma(e,t,a,c,s);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:xt(a,c),Hc(e,t,a,c,s);case 3:e:{if(qc(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,c=h.element,ac(e,t),Zs(t,a,null,s);var g=t.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=nn(Error(n(423)),t),t=Kc(e,t,a,s,c);break e}else if(a!==c){c=nn(Error(n(424)),t),t=Kc(e,t,a,s,c);break e}else for(lt=Zt(t.stateNode.containerInfo.firstChild),at=t,xe=!0,Et=null,s=ic(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xr(),a===c){t=Vt(e,t,s);break e}Je(e,t,a,s)}t=t.child}return t;case 5:return cc(t),e===null&&qo(t),a=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,g=c.children,Uo(a,c)?g=null:h!==null&&Uo(a,h)&&(t.flags|=32),Wc(e,t),Je(e,t,g,s),t.child;case 6:return e===null&&qo(t),null;case 13:return Gc(e,t,s);case 4:return ea(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Zr(t,null,a,s):Je(e,t,a,s),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:xt(a,c),zc(e,t,a,c,s);case 7:return Je(e,t,t.pendingProps,s),t.child;case 8:return Je(e,t,t.pendingProps.children,s),t.child;case 12:return Je(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,h=t.memoizedProps,g=c.value,ye(Qs,a._currentValue),a._currentValue=g,h!==null)if(St(h.value,g)){if(h.children===c.children&&!Ye.current){t=Vt(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){g=h.child;for(var _=v.firstContext;_!==null;){if(_.context===a){if(h.tag===1){_=Ft(-1,s&-s),_.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var I=P.pending;I===null?_.next=_:(_.next=I.next,I.next=_),P.pending=_}}h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Yo(h.return,s,t),v.lanes|=s;break}_=_.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(n(341));g.lanes|=s,v=g.alternate,v!==null&&(v.lanes|=s),Yo(g,s,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Je(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,tn(t,s),c=mt(c),a=a(c),t.flags|=1,Je(e,t,a,s),t.child;case 14:return a=t.type,c=xt(a,t.pendingProps),c=xt(a.type,c),Mc(e,t,a,c,s);case 15:return Fc(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:xt(a,c),li(e,t),t.tag=1,Xe(a)?(e=!0,Ws(t)):e=!1,tn(t,s),Ac(t,a,c),fa(t,a,c,s),va(null,t,a,!0,e,s);case 19:return Qc(e,t,s);case 22:return Vc(e,t,s)}throw Error(n(156,t.tag))};function _d(e,t){return Zl(e,t)}function gg(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,s,a){return new gg(e,t,s,a)}function Ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mg(e){if(typeof e=="function")return Ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ft)return 11;if(e===pe)return 14}return 2}function cr(e,t){var s=e.alternate;return s===null?(s=wt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wi(e,t,s,a,c,h){var g=2;if(a=e,typeof e=="function")Ua(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case se:return jr(s.children,c,h,t);case Se:g=8,c|=8;break;case be:return e=wt(12,s,t,c|2),e.elementType=be,e.lanes=h,e;case Ge:return e=wt(13,s,t,c),e.elementType=Ge,e.lanes=h,e;case st:return e=wt(19,s,t,c),e.elementType=st,e.lanes=h,e;case ie:return _i(s,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break e;case Lt:g=9;break e;case ft:g=11;break e;case pe:g=14;break e;case fe:g=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=wt(g,s,t,c),t.elementType=e,t.type=a,t.lanes=h,t}function jr(e,t,s,a){return e=wt(7,e,a,t),e.lanes=s,e}function _i(e,t,s,a){return e=wt(22,e,a,t),e.elementType=ie,e.lanes=s,e.stateNode={isHidden:!1},e}function Da(e,t,s){return e=wt(6,e,null,t),e.lanes=s,e}function Ba(e,t,s){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vg(e,t,s,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function za(e,t,s,a,c,h,g,v,_){return e=new vg(e,t,s,v,_),t===1?(t=1,h===!0&&(t|=8)):t=0,h=wt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zo(h),e}function yg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function kd(e){if(!e)return tr;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(Xe(s))return Ju(e,s,t)}return t}function Sd(e,t,s,a,c,h,g,v,_){return e=za(s,a,!0,e,c,h,g,v,_),e.context=kd(null),s=e.current,a=Qe(),c=lr(s),h=Ft(a,c),h.callback=t??null,sr(s,h,c),e.current.lanes=c,Cn(e,c,a),tt(e,a),e}function ki(e,t,s,a){var c=t.current,h=Qe(),g=lr(c);return s=kd(s),t.context===null?t.context=s:t.pendingContext=s,t=Ft(h,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=sr(c,t,g),e!==null&&(Ot(e,c,g,h),Xs(e,c,g)),g}function Si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ma(e,t){Ed(e,t),(e=e.alternate)&&Ed(e,t)}function wg(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fa(e){this._internalRoot=e}Ei.prototype.render=Fa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ki(e,t,null,null)},Ei.prototype.unmount=Fa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){ki(null,e,null,null)}),t[Ut]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=au();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Qt.length&&t!==0&&t<Qt[s].priority;s++);Qt.splice(s,0,e),s===0&&cu(e)}};function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function _g(e,t,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var P=Si(g);h.call(P)}}var g=Sd(t,a,e,0,null,!1,!1,"",bd);return e._reactRootContainer=g,e[Ut]=g.current,Vn(e.nodeType===8?e.parentNode:e),br(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var P=Si(_);v.call(P)}}var _=za(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=_,e[Ut]=_.current,Vn(e.nodeType===8?e.parentNode:e),br(function(){ki(t,_,s,a)}),_}function bi(e,t,s,a,c){var h=s._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var v=c;c=function(){var _=Si(g);v.call(_)}}ki(t,g,e,c)}else g=_g(s,t,e,c,a);return Si(g)}iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=jn(t.pendingLanes);s!==0&&(fo(t,s|1),tt(t,Re()),(ue&6)===0&&(an=Re()+500,rr()))}break;case 13:br(function(){var a=Mt(e,1);if(a!==null){var c=Qe();Ot(a,e,1,c)}}),Ma(e,1)}},po=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var s=Qe();Ot(t,e,134217728,s)}Ma(e,134217728)}},ou=function(e){if(e.tag===13){var t=lr(e),s=Mt(e,t);if(s!==null){var a=Qe();Ot(s,e,t,a)}Ma(e,t)}},au=function(){return me},lu=function(e,t){var s=me;try{return me=e,t()}finally{me=s}},io=function(e,t,s){switch(t){case"input":if(Yi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var c=Fs(a);if(!c)throw Error(n(90));Nl(a),Yi(a,c)}}}break;case"textarea":Ul(e,s);break;case"select":t=s.value,t!=null&&Ur(e,!!s.multiple,t,!1)}},ql=Ia,Kl=br;var kg={usingClientEntryPoint:!1,Events:[qn,Kr,Fs,Wl,Hl,Ia]},os={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sg={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yl(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Es=Ti.inject(Sg),Pt=Ti}catch{}}return rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg,rt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Va(t))throw Error(n(200));return yg(e,t,null,s)},rt.createRoot=function(e,t){if(!Va(e))throw Error(n(299));var s=!1,a="",c=xd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=za(e,1,!1,null,null,s,!1,a,c),e[Ut]=t.current,Vn(e.nodeType===8?e.parentNode:e),new Fa(t)},rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Yl(t),e=e===null?null:e.stateNode,e},rt.flushSync=function(e){return br(e)},rt.hydrate=function(e,t,s){if(!xi(t))throw Error(n(200));return bi(null,e,t,!0,s)},rt.hydrateRoot=function(e,t,s){if(!Va(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",g=xd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),t=Sd(t,null,e,1,s??null,c,!1,h,g),e[Ut]=t.current,Vn(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new Ei(t)},rt.render=function(e,t,s){if(!xi(t))throw Error(n(200));return bi(null,e,t,!1,s)},rt.unmountComponentAtNode=function(e){if(!xi(e))throw Error(n(40));return e._reactRootContainer?(br(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1},rt.unstable_batchedUpdates=Ia,rt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!xi(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return bi(e,t,s,!1,a)},rt.version="18.3.1-next-f1338f8080-20240426",rt}var Ad;function _h(){if(Ad)return qa.exports;Ad=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),qa.exports=Pg(),qa.exports}var Id;function Ng(){if(Id)return Oi;Id=1;var i=_h();return Oi.createRoot=i.createRoot,Oi.hydrateRoot=i.hydrateRoot,Oi}var Ag=Ng();const Ig=_l(Ag);_h();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Di.apply(this,arguments)}var pr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(pr||(pr={}));const $d="popstate";function $g(i){i===void 0&&(i={});function r(l,u){let{pathname:d="/",search:f="",hash:p=""}=gs(l.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),sl("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let d=l.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof u=="string"?u:kh(u))}function o(l,u){Sl(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return Ug(r,n,o,i)}function nt(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Sl(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Lg(){return Math.random().toString(36).substr(2,8)}function Ld(i,r){return{usr:i.state,key:i.key,idx:r}}function sl(i,r,n,o){return n===void 0&&(n=null),Di({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?gs(r):r,{state:n,key:r&&r.key||o||Lg()})}function kh(i){let{pathname:r="/",search:n="",hash:o=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function gs(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substr(o),i=i.substr(0,o)),i&&(r.pathname=i)}return r}function Ug(i,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,f=pr.Pop,p=null,m=y();m==null&&(m=0,d.replaceState(Di({},d.state,{idx:m}),""));function y(){return(d.state||{idx:null}).idx}function w(){f=pr.Pop;let x=y(),$=x==null?null:x-m;m=x,p&&p({action:f,location:O.location,delta:$})}function E(x,$){f=pr.Push;let z=sl(O.location,x,$);n&&n(z,x),m=y()+1;let L=Ld(z,m),W=O.createHref(z);try{d.pushState(L,"",W)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;l.location.assign(W)}u&&p&&p({action:f,location:O.location,delta:1})}function S(x,$){f=pr.Replace;let z=sl(O.location,x,$);n&&n(z,x),m=y();let L=Ld(z,m),W=O.createHref(z);d.replaceState(L,"",W),u&&p&&p({action:f,location:O.location,delta:0})}function b(x){let $=l.location.origin!=="null"?l.location.origin:l.location.href,z=typeof x=="string"?x:kh(x);return z=z.replace(/ $/,"%20"),nt($,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,$)}let O={get action(){return f},get location(){return i(l,d)},listen(x){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener($d,w),p=x,()=>{l.removeEventListener($d,w),p=null}},createHref(x){return r(l,x)},createURL:b,encodeLocation(x){let $=b(x);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:E,replace:S,go(x){return d.go(x)}};return O}var Ud;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Ud||(Ud={}));function Dg(i,r,n){return n===void 0&&(n="/"),Bg(i,r,n)}function Bg(i,r,n,o){let l=typeof r=="string"?gs(r):r,u=xh(l.pathname||"/",n);if(u==null)return null;let d=Sh(i);zg(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let m=Xg(u);f=Jg(d[p],m)}return f}function Sh(i,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,d,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let m=vn([o,p.relativePath]),y=n.concat(p);u.children&&u.children.length>0&&(nt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Sh(u.children,r,y,m)),!(u.path==null&&!u.index)&&r.push({path:m,score:Kg(m,u.index),routesMeta:y})};return i.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,d);else for(let p of Eh(u.path))l(u,d,p)}),r}function Eh(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=Eh(o.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...d),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function zg(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:Gg(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Mg=/^:[\w-]+$/,Fg=3,Vg=2,Wg=1,Hg=10,qg=-2,Dd=i=>i==="*";function Kg(i,r){let n=i.split("/"),o=n.length;return n.some(Dd)&&(o+=qg),r&&(o+=Vg),n.filter(l=>!Dd(l)).reduce((l,u)=>l+(Mg.test(u)?Fg:u===""?Wg:Hg),o)}function Gg(i,r){return i.length===r.length&&i.slice(0,-1).every((o,l)=>o===r[l])?i[i.length-1]-r[r.length-1]:0}function Jg(i,r,n){let{routesMeta:o}=i,l={},u="/",d=[];for(let f=0;f<o.length;++f){let p=o[f],m=f===o.length-1,y=u==="/"?r:r.slice(u.length)||"/",w=Qg({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:vn([u,w.pathname]),pathnameBase:Zg(vn([u,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(u=vn([u,w.pathnameBase]))}return d}function Qg(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=Yg(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((m,y,w)=>{let{paramName:E,isOptional:S}=y;if(E==="*"){let O=f[w]||"";d=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const b=f[w];return S&&!b?m[E]=void 0:m[E]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:i}}function Yg(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Sl(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function Xg(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Sl(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function xh(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}const vn=i=>i.join("/").replace(/\/\/+/g,"/"),Zg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/");function em(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const bh=["post","put","patch","delete"];new Set(bh);const tm=["get",...bh];new Set(tm);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Bi.apply(this,arguments)}const rm=D.createContext(null),nm=D.createContext(null),Th=D.createContext(null),Hi=D.createContext(null),qi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Oh=D.createContext(null);function El(){return D.useContext(Hi)!=null}function sm(){return El()||nt(!1),D.useContext(Hi).location}function im(i,r){return om(i,r)}function om(i,r,n,o){El()||nt(!1);let{navigator:l}=D.useContext(Th),{matches:u}=D.useContext(qi),d=u[u.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let m=sm(),y;if(r){var w;let x=typeof r=="string"?gs(r):r;p==="/"||(w=x.pathname)!=null&&w.startsWith(p)||nt(!1),y=x}else y=m;let E=y.pathname||"/",S=E;if(p!=="/"){let x=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Dg(i,{pathname:S}),O=dm(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:vn([p,l.encodeLocation?l.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:vn([p,l.encodeLocation?l.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),u,n,o);return r&&O?D.createElement(Hi.Provider,{value:{location:Bi({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:pr.Pop}},O):O}function am(){let i=gm(),r=em(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},r),n?D.createElement("pre",{style:l},n):null,null)}const lm=D.createElement(am,null);class um extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?D.createElement(qi.Provider,{value:this.props.routeContext},D.createElement(Oh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cm(i){let{routeContext:r,match:n,children:o}=i,l=D.useContext(rm);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(qi.Provider,{value:r},o)}function dm(i,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let d=i,f=(l=n)==null?void 0:l.errors;if(f!=null){let y=d.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);y>=0||nt(!1),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,m=-1;if(n&&o&&o.v7_partialHydration)for(let y=0;y<d.length;y++){let w=d[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:E,errors:S}=n,b=w.route.loader&&E[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||b){p=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((y,w,E)=>{let S,b=!1,O=null,x=null;n&&(S=f&&w.route.id?f[w.route.id]:void 0,O=w.route.errorElement||lm,p&&(m<0&&E===0?(mm("route-fallback"),b=!0,x=null):m===E&&(b=!0,x=w.route.hydrateFallbackElement||null)));let $=r.concat(d.slice(0,E+1)),z=()=>{let L;return S?L=O:b?L=x:w.route.Component?L=D.createElement(w.route.Component,null):w.route.element?L=w.route.element:L=y,D.createElement(cm,{match:w,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:L})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?D.createElement(um,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:z(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):z()},null)}var jh=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(jh||{});function hm(i){let r=D.useContext(nm);return r||nt(!1),r}function fm(i){let r=D.useContext(qi);return r||nt(!1),r}function pm(i){let r=fm(),n=r.matches[r.matches.length-1];return n.route.id||nt(!1),n.route.id}function gm(){var i;let r=D.useContext(Oh),n=hm(jh.UseRouteError),o=pm();return r!==void 0?r:(i=n.errors)==null?void 0:i[o]}const Bd={};function mm(i,r,n){Bd[i]||(Bd[i]=!0)}function vm(i,r){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function il(i){nt(!1)}function ym(i){let{basename:r="/",children:n=null,location:o,navigationType:l=pr.Pop,navigator:u,static:d=!1,future:f}=i;El()&&nt(!1);let p=r.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:p,navigator:u,static:d,future:Bi({v7_relativeSplatPath:!1},f)}),[p,f,u,d]);typeof o=="string"&&(o=gs(o));let{pathname:y="/",search:w="",hash:E="",state:S=null,key:b="default"}=o,O=D.useMemo(()=>{let x=xh(y,p);return x==null?null:{location:{pathname:x,search:w,hash:E,state:S,key:b},navigationType:l}},[p,y,w,E,S,b,l]);return O==null?null:D.createElement(Th.Provider,{value:m},D.createElement(Hi.Provider,{children:n,value:O}))}function wm(i){let{children:r,location:n}=i;return im(ol(r),n)}new Promise(()=>{});function ol(i,r){r===void 0&&(r=[]);let n=[];return D.Children.forEach(i,(o,l)=>{if(!D.isValidElement(o))return;let u=[...r,l];if(o.type===D.Fragment){n.push.apply(n,ol(o.props.children,u));return}o.type!==il&&nt(!1),!o.props.index||!o.props.children||nt(!1);let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=ol(o.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _m="6";try{window.__reactRouterVersion=_m}catch{}const km="startTransition",zd=jg[km];function Sm(i){let{basename:r,children:n,future:o,window:l}=i,u=D.useRef();u.current==null&&(u.current=$g({window:l,v5Compat:!0}));let d=u.current,[f,p]=D.useState({action:d.action,location:d.location}),{v7_startTransition:m}=o||{},y=D.useCallback(w=>{m&&zd?zd(()=>p(w)):p(w)},[p,m]);return D.useLayoutEffect(()=>d.listen(y),[d,y]),D.useEffect(()=>vm(o),[o]),D.createElement(ym,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:d,future:o})}var Md;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Md||(Md={}));var Fd;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Fd||(Fd={}));const Em=["","","","","","","","","","","",""],Cr=Array.from({length:6},(i,r)=>2024+r);function xm({year:i,month:r,onYearChange:n,onMonthChange:o}){const l=()=>{r===0?i>Cr[0]&&(n(i-1),o(11)):o(r-1)},u=()=>{r===11?i<Cr[Cr.length-1]&&(n(i+1),o(0)):o(r+1)};return R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsx("button",{onClick:l,disabled:i===Cr[0]&&r===0,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":" ",children:R.jsx("span",{className:"material-icons text-gray-600 dark:text-gray-300",children:"chevron_left"})}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("select",{value:r,onChange:d=>o(Number(d.target.value)),className:"px-3 py-2 rounded-lg bg-white dark:bg-dark-surface border border-gray-200 dark:border-dark-border text-gray-900 dark:text-gray-100 font-medium cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-accent",children:Em.map((d,f)=>R.jsx("option",{value:f,children:d},f))}),R.jsx("select",{value:i,onChange:d=>n(Number(d.target.value)),className:"px-3 py-2 rounded-lg bg-white dark:bg-dark-surface border border-gray-200 dark:border-dark-border text-gray-900 dark:text-gray-100 font-medium cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-accent",children:Cr.map(d=>R.jsx("option",{value:d,children:d},d))})]}),R.jsx("button",{onClick:u,disabled:i===Cr[Cr.length-1]&&r===11,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border disabled:opacity-30 disabled:cursor-not-allowed transition-colors","aria-label":" ",children:R.jsx("span",{className:"material-icons text-gray-600 dark:text-gray-300",children:"chevron_right"})})]})}const bm=["","","","","","",""];function Ch({year:i,month:r,selectedDate:n,homeworkDates:o=[],onYearChange:l,onMonthChange:u,onDateSelect:d}){const f=D.useMemo(()=>{const m=new Date;return{year:m.getFullYear(),month:m.getMonth(),day:m.getDate()}},[]),p=D.useMemo(()=>{const m=new Date(i,r,1),w=new Date(i,r+1,0).getDate();let E=m.getDay()-1;E<0&&(E=6);const S=[];for(let b=0;b<E;b++)S.push({day:null,isCurrentMonth:!1});for(let b=1;b<=w;b++){const O=`${i}-${String(r+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`;S.push({day:b,dateString:O,isCurrentMonth:!0,isToday:i===f.year&&r===f.month&&b===f.day,isSelected:n===O,hasHomework:o.includes(O)})}return S},[i,r,n,o,f]);return R.jsxs("div",{className:"card p-4 md:p-6",children:[R.jsx(xm,{year:i,month:r,onYearChange:l,onMonthChange:u}),R.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:bm.map(m=>R.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400 py-2",children:m},m))}),R.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((m,y)=>R.jsxs("button",{onClick:()=>m.day&&d(m.dateString),disabled:!m.day,className:`
              relative aspect-square flex items-center justify-center rounded-lg text-sm font-medium
              transition-all duration-200
              ${m.day?"cursor-pointer":"cursor-default"}
              ${m.isSelected?"bg-primary-accent text-white shadow-md":m.isToday?"bg-primary-accent/20 text-primary-accent dark:bg-primary-accent/30":m.day?"hover:bg-gray-100 dark:hover:bg-dark-border text-gray-700 dark:text-gray-200":""}
            `,children:[m.day,m.hasHomework&&!m.isSelected&&R.jsx("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-primary-accent"})]},y))}),R.jsx("div",{className:"mt-4 flex justify-center",children:R.jsx("button",{onClick:()=>{l(f.year),u(f.month);const m=`${f.year}-${String(f.month+1).padStart(2,"0")}-${String(f.day).padStart(2,"0")}`;d(m)},className:"btn-secondary text-sm",children:R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx("span",{className:"material-icons text-base",children:"today"}),""]})})})]})}function Tm({homework:i,isAdmin:r=!1,onEdit:n,onDelete:o,isLoading:l=!1}){const[u,d]=D.useState(!1),[f,p]=D.useState(i.subject),[m,y]=D.useState(i.task),w=()=>{f.trim()&&m.trim()&&(n(i.id,{subject:f.trim(),task:m.trim()}),d(!1))},E=()=>{p(i.subject),y(i.task),d(!1)},S=b=>new Date(b).toLocaleDateString("ru-RU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return u&&r?R.jsxs("div",{className:"card p-4 animate-fade-in",children:[R.jsx("input",{type:"text",value:f,onChange:b=>p(b.target.value),placeholder:" ",className:"input-field mb-3 font-semibold",autoFocus:!0}),R.jsx("textarea",{value:m,onChange:b=>y(b.target.value),placeholder:" ",rows:3,className:"textarea-field mb-3"}),R.jsxs("div",{className:"flex gap-2 justify-end",children:[R.jsx("button",{onClick:E,className:"btn-secondary text-sm",children:""}),R.jsx("button",{onClick:w,disabled:!f.trim()||!m.trim(),className:"btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]}):R.jsx("div",{className:`card p-4 animate-slide-up ${l?"opacity-50":""}`,children:R.jsxs("div",{className:"flex items-start justify-between gap-3",children:[R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:i.subject}),R.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap break-words",children:i.task}),i.created_at&&R.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-2",children:[": ",S(i.created_at)]})]}),r&&R.jsxs("div",{className:"flex gap-1 shrink-0",children:[R.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors","aria-label":"",children:R.jsx("span",{className:"material-icons text-gray-500 dark:text-gray-400 text-xl",children:"edit"})}),R.jsx("button",{onClick:()=>o(i.id),className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":"",children:R.jsx("span",{className:"material-icons text-red-500 text-xl",children:"close"})})]})]})})}function Rh({homework:i=[],selectedDate:r,isLoading:n=!1,isAdmin:o=!1,onEdit:l,onDelete:u}){const d=f=>f?new Date(f).toLocaleDateString("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"";return n?R.jsxs("div",{className:"space-y-4",children:[R.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:d(r)}),[1,2,3].map(f=>R.jsxs("div",{className:"card p-4",children:[R.jsx("div",{className:"skeleton h-5 w-1/3 mb-2"}),R.jsx("div",{className:"skeleton h-4 w-full mb-1"}),R.jsx("div",{className:"skeleton h-4 w-2/3"})]},f))]}):R.jsxs("div",{className:"space-y-4",children:[r&&R.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 capitalize",children:d(r)}),i.length===0?R.jsxs("div",{className:"card p-8 text-center animate-fade-in",children:[R.jsx("span",{className:"material-icons text-6xl text-gray-300 dark:text-gray-600 mb-4",children:"assignment"}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"    "})]}):R.jsx("div",{className:"space-y-3",children:i.map(f=>R.jsx(Tm,{homework:f,isAdmin:o,onEdit:l,onDelete:u},f.id))})]})}var al=function(i,r){return al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},al(i,r)};function Ph(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");al(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var zi=function(){return zi=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},zi.apply(this,arguments)};function _n(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function Nh(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var f=i.length-1;f>=0;f--)(d=i[f])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function Ah(i,r){return function(n,o){r(n,o,i)}}function Ih(i,r,n,o,l,u){function d($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!r&&i?o.static?i:i.prototype:null,y=r||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),w,E=!1,S=n.length-1;S>=0;S--){var b={};for(var O in o)b[O]=O==="access"?{}:o[O];for(var O in o.access)b.access[O]=o.access[O];b.addInitializer=function($){if(E)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d($||null))};var x=(0,n[S])(f==="accessor"?{get:y.get,set:y.set}:y[p],b);if(f==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(w=d(x.get))&&(y.get=w),(w=d(x.set))&&(y.set=w),(w=d(x.init))&&l.unshift(w)}else(w=d(x))&&(f==="field"?l.unshift(w):y[p]=w)}m&&Object.defineProperty(m,o.name,y),E=!0}function $h(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function Lh(i){return typeof i=="symbol"?i:"".concat(i)}function Uh(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Dh(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function q(i,r,n,o){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(y){try{m(o.next(y))}catch(w){d(w)}}function p(y){try{m(o.throw(y))}catch(w){d(w)}}function m(y){y.done?u(y.value):l(y.value).then(f,p)}m((o=o.apply(i,r||[])).next())})}function Bh(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(y){return p([m,y])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(o=1,l&&(u=m[0]&2?l.return:m[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,m[1])).done)return u;switch(l=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,l=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){n.label=m[1];break}if(m[0]===6&&n.label<u[1]){n.label=u[1],u=m;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(m);break}u[2]&&n.ops.pop(),n.trys.pop();continue}m=r.call(i,n)}catch(y){m=[6,y],l=0}finally{o=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ki=Object.create?(function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}):(function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]});function zh(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Ki(r,i,n)}function Mi(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function xl(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return u}function Mh(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(xl(arguments[r]));return i}function Fh(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,f=u.length;d<f;d++,l++)o[l]=u[d];return o}function Vh(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function wn(i){return this instanceof wn?(this.v=i,this):new wn(i)}function Wh(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(S){return function(b){return Promise.resolve(b).then(S,w)}}function f(S,b){o[S]&&(l[S]=function(O){return new Promise(function(x,$){u.push([S,O,x,$])>1||p(S,O)})},b&&(l[S]=b(l[S])))}function p(S,b){try{m(o[S](b))}catch(O){E(u[0][3],O)}}function m(S){S.value instanceof wn?Promise.resolve(S.value.v).then(y,w):E(u[0][2],S)}function y(S){p("next",S)}function w(S){p("throw",S)}function E(S,b){S(b),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Hh(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(d){return(n=!n)?{value:wn(i[l](d)),done:!1}:u?u(d):d}:u}}function qh(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof Mi=="function"?Mi(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(d){return new Promise(function(f,p){d=i[u](d),l(f,p,d.done,d.value)})}}function l(u,d,f,p){Promise.resolve(p).then(function(m){u({value:m,done:f})},d)}}function Kh(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Om=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},ll=function(i){return ll=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},ll(i)};function Gh(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=ll(i),o=0;o<n.length;o++)n[o]!=="default"&&Ki(r,i,n[o]);return Om(r,i),r}function Jh(i){return i&&i.__esModule?i:{default:i}}function Qh(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Yh(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function Xh(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Zh(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var jm=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function ef(i){function r(u){i.error=i.hasError?new jm(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else o|=1}catch(d){r(d)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function tf(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,d){return o?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):i}const Cm={__extends:Ph,__assign:zi,__rest:_n,__decorate:Nh,__param:Ah,__esDecorate:Ih,__runInitializers:$h,__propKey:Lh,__setFunctionName:Uh,__metadata:Dh,__awaiter:q,__generator:Bh,__createBinding:Ki,__exportStar:zh,__values:Mi,__read:xl,__spread:Mh,__spreadArrays:Fh,__spreadArray:Vh,__await:wn,__asyncGenerator:Wh,__asyncDelegator:Hh,__asyncValues:qh,__makeTemplateObject:Kh,__importStar:Gh,__importDefault:Jh,__classPrivateFieldGet:Qh,__classPrivateFieldSet:Yh,__classPrivateFieldIn:Xh,__addDisposableResource:Zh,__disposeResources:ef,__rewriteRelativeImportExtension:tf},Rm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zh,get __assign(){return zi},__asyncDelegator:Hh,__asyncGenerator:Wh,__asyncValues:qh,__await:wn,__awaiter:q,__classPrivateFieldGet:Qh,__classPrivateFieldIn:Xh,__classPrivateFieldSet:Yh,__createBinding:Ki,__decorate:Nh,__disposeResources:ef,__esDecorate:Ih,__exportStar:zh,__extends:Ph,__generator:Bh,__importDefault:Jh,__importStar:Gh,__makeTemplateObject:Kh,__metadata:Dh,__param:Ah,__propKey:Lh,__read:xl,__rest:_n,__rewriteRelativeImportExtension:tf,__runInitializers:$h,__setFunctionName:Uh,__spread:Mh,__spreadArray:Vh,__spreadArrays:Fh,__values:Mi,default:Cm},Symbol.toStringTag,{value:"Module"})),Pm=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class bl extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class Nm extends bl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Vd extends bl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Wd extends bl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ul;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(ul||(ul={}));class Am{constructor(r,{headers:n={},customFetch:o,region:l=ul.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Pm(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return q(this,arguments,void 0,function*(n,o={}){var l;let u,d;try{const{headers:f,method:p,body:m,signal:y,timeout:w}=o;let E={},{region:S}=o;S||(S=this.region);const b=new URL(`${this.url}/${n}`);S&&S!=="any"&&(E["x-region"]=S,b.searchParams.set("forceFunctionRegion",S));let O;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",O=m):typeof m=="string"?(E["Content-Type"]="text/plain",O=m):typeof FormData<"u"&&m instanceof FormData?O=m:(E["Content-Type"]="application/json",O=JSON.stringify(m)):O=m;let x=y;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),y?(x=d.signal,y.addEventListener("abort",()=>d.abort())):x=d.signal);const $=yield this.fetch(b.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:O,signal:x}).catch(ne=>{throw new Nm(ne)}),z=$.headers.get("x-relay-error");if(z&&z==="true")throw new Vd($);if(!$.ok)throw new Wd($);let L=((l=$.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),W;return L==="application/json"?W=yield $.json():L==="application/octet-stream"||L==="application/pdf"?W=yield $.blob():L==="text/event-stream"?W=$:L==="multipart/form-data"?W=yield $.formData():W=yield $.text(),{data:W,error:null,response:$}}catch(f){return{data:null,error:f,response:f instanceof Wd||f instanceof Vd?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Ke={};const kn=xg(Rm);var ji={},Ci={},Ri={},Pi={},Ni={},Ai={},Hd;function rf(){if(Hd)return Ai;Hd=1,Object.defineProperty(Ai,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ai.default=i,Ai}var qd;function nf(){if(qd)return Ni;qd=1,Object.defineProperty(Ni,"__esModule",{value:!0});const r=kn.__importDefault(rf());class n{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,w,E;let S=null,b=null,O=null,x=p.status,$=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ne=await p.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=ne:b=JSON.parse(ne))}const L=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),W=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");L&&W&&W.length>1&&(O=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(S={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,O=null,x=406,$="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const L=await p.text();try{S=JSON.parse(L),Array.isArray(S)&&p.status===404&&(b=[],S=null,x=200,$="OK")}catch{p.status===404&&L===""?(x=204,$="No Content"):S={message:L}}if(S&&this.isMaybeSingle&&(!((E=S==null?void 0:S.details)===null||E===void 0)&&E.includes("0 rows"))&&(S=null,x=200,$="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:b,count:O,status:x,statusText:$}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,y,w,E,S,b;let O="";const x=p==null?void 0:p.cause;if(x){const $=(m=x==null?void 0:x.message)!==null&&m!==void 0?m:"",z=(y=x==null?void 0:x.code)!==null&&y!==void 0?y:"";O=`${(w=p==null?void 0:p.name)!==null&&w!==void 0?w:"FetchError"}: ${p==null?void 0:p.message}`,O+=`

Caused by: ${(E=x==null?void 0:x.name)!==null&&E!==void 0?E:"Error"}: ${$}`,z&&(O+=` (${z})`),x!=null&&x.stack&&(O+=`
${x.stack}`)}else O=(S=p==null?void 0:p.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return Ni.default=n,Ni}var Kd;function sf(){if(Kd)return Pi;Kd=1,Object.defineProperty(Pi,"__esModule",{value:!0});const r=kn.__importDefault(nf());class n extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Pi.default=n,Pi}var Gd;function Tl(){if(Gd)return Ri;Gd=1,Object.defineProperty(Ri,"__esModule",{value:!0});const r=kn.__importDefault(sf()),n=new RegExp("[,()]");class o extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${m}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return Ri.default=o,Ri}var Jd;function of(){if(Jd)return Ci;Jd=1,Object.defineProperty(Ci,"__esModule",{value:!0});const r=kn.__importDefault(Tl());class n{constructor(l,{headers:u={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(l,u){const{head:d=!1,count:f}=u??{},p=d?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(m.length>0){const y=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((E,S)=>E.concat(Object.keys(S)),[]);if(w.length>0){const E=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ci.default=n,Ci}var Qd;function Im(){if(Qd)return ji;Qd=1,Object.defineProperty(ji,"__esModule",{value:!0});const i=kn,r=i.__importDefault(of()),n=i.__importDefault(Tl());class o{constructor(u,{headers:d={},schema:f,fetch:p}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:p=!1,count:m}={}){var y;let w;const E=new URL(`${this.url}/rpc/${u}`);let S;f||p?(w=f?"HEAD":"GET",Object.entries(d).filter(([O,x])=>x!==void 0).map(([O,x])=>[O,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([O,x])=>{E.searchParams.append(O,x)})):(w="POST",S=d);const b=new Headers(this.headers);return m&&b.set("Prefer",`count=${m}`),new n.default({method:w,url:E,headers:b,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ji.default=o,ji}var Yd;function $m(){if(Yd)return Ke;Yd=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const i=kn,r=i.__importDefault(Im());Ke.PostgrestClient=r.default;const n=i.__importDefault(of());Ke.PostgrestQueryBuilder=n.default;const o=i.__importDefault(Tl());Ke.PostgrestFilterBuilder=o.default;const l=i.__importDefault(sf());Ke.PostgrestTransformBuilder=l.default;const u=i.__importDefault(nf());Ke.PostgrestBuilder=u.default;const d=i.__importDefault(rf());return Ke.PostgrestError=d.default,Ke.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Ke}var af=$m();const lf=_l(af),Lm=yh({__proto__:null,default:lf},[af]),{PostgrestClient:Um,PostgrestQueryBuilder:v0,PostgrestFilterBuilder:y0,PostgrestTransformBuilder:w0,PostgrestBuilder:_0,PostgrestError:k0}=lf||Lm;class Dm{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Bm="2.86.0",zm=`realtime-js/${Bm}`,uf="1.0.0",Mm="2.0.0",Xd=uf,cl=1e4,Fm=1e3,Vm=100;var Ar;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ar||(Ar={}));var Le;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Le||(Le={}));var Rt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Rt||(Rt={}));var dl;(function(i){i.websocket="websocket"})(dl||(dl={}));var Ir;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ir||(Ir={}));class Wm{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,o){var l,u;const d=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",m=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+m.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+E);let b=new DataView(S),O=0;b.setUint8(O++,this.KINDS.userBroadcastPush),b.setUint8(O++,p.length),b.setUint8(O++,f.length),b.setUint8(O++,d.length),b.setUint8(O++,m.length),b.setUint8(O++,w.length),b.setUint8(O++,n),Array.from(p,$=>b.setUint8(O++,$.charCodeAt(0))),Array.from(f,$=>b.setUint8(O++,$.charCodeAt(0))),Array.from(d,$=>b.setUint8(O++,$.charCodeAt(0))),Array.from(m,$=>b.setUint8(O++,$.charCodeAt(0))),Array.from(w,$=>b.setUint8(O++,$.charCodeAt(0)));var x=new Uint8Array(S.byteLength+o.byteLength);return x.set(new Uint8Array(S),0),x.set(new Uint8Array(o),S.byteLength),x.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,d,f,p]=o;return n({join_ref:l,ref:u,topic:d,event:f,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const m=o.decode(r.slice(p,p+l));p=p+l;const y=o.decode(r.slice(p,p+u));p=p+u;const w=o.decode(r.slice(p,p+d));p=p+d;const E=r.slice(p,r.byteLength),S=f===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,b={type:this.BROADCAST_EVENT,event:y,payload:S};return d>0&&(b.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class cf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(we||(we={}));const Zd=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Hm(d,i,r,l),u),{}):{}},Hm=(i,r,n,o)=>{const l=r.find(f=>f.name===i),u=l==null?void 0:l.type,d=n[i];return u&&!o.includes(u)?df(u,d):hl(d)},df=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Jm(r,n)}switch(i){case we.bool:return qm(r);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return Km(r);case we.json:case we.jsonb:return Gm(r);case we.timestamp:return Qm(r);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return hl(r);default:return hl(r)}},hl=i=>i,qm=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Km=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Gm=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},Jm=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const d=i.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>df(r,f))}return i},Qm=i=>typeof i=="string"?i.replace(" ","T"):i,hf=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ja{constructor(r,n,o={},l=cl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var eh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(eh||(eh={}));class us{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,l,u,d),this.pendingDiffs.forEach(p=>{this.state=us.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=us.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),d=this.transformState(n),f={},p={};return this.map(u,(m,y)=>{d[m]||(p[m]=y)}),this.map(d,(m,y)=>{const w=u[m];if(w){const E=y.map(x=>x.presence_ref),S=w.map(x=>x.presence_ref),b=y.filter(x=>S.indexOf(x.presence_ref)<0),O=w.filter(x=>E.indexOf(x.presence_ref)<0);b.length>0&&(f[m]=b),O.length>0&&(p[m]=O)}else f[m]=y}),this.syncDiff(u,{joins:f,leaves:p},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var m;const y=(m=r[f])!==null&&m!==void 0?m:[];if(r[f]=this.cloneDeep(p),y.length>0){const w=r[f].map(S=>S.presence_ref),E=y.filter(S=>w.indexOf(S.presence_ref)<0);r[f].unshift(...E)}o(f,y,p)}),this.map(d,(f,p)=>{let m=r[f];if(!m)return;const y=p.map(w=>w.presence_ref);m=m.filter(w=>y.indexOf(w.presence_ref)<0),r[f]=m,l(f,m,p),m.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var th;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(th||(th={}));var cs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(cs||(cs={}));var Ht;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class Ol{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ja(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new cf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new us(this),this.broadcastEndpointURL=hf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,m=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},E={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(Ht.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var b;if(this.socket.setAuth(),S===void 0){r==null||r(Ht.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,x=(b=O==null?void 0:O.length)!==null&&b!==void 0?b:0,$=[];for(let z=0;z<x;z++){const L=O[z],{filter:{event:W,schema:ne,table:re,filter:se}}=L,Se=S&&S[z];if(Se&&Se.event===W&&Se.schema===ne&&Se.table===re&&Se.filter===se)$.push(Object.assign(Object.assign({},L),{id:Se.id}));else{this.unsubscribe(),this.state=Le.errored,r==null||r(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,r&&r(Ht.SUBSCRIBED);return}}).receive("error",S=>{this.state=Le.errored,r==null||r(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===Le.joined&&r===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const m=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Ja(this,Rt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ja(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Vm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const d=r.toLocaleLowerCase(),{close:f,error:p,leave:m,join:y}=Rt;if(o&&[f,p,m,y].indexOf(d)>=0&&o!==this._joinRef())return;let E=this._onMessage(d,n,o);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var b,O,x;return((b=S.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(O=S.filter)===null||O===void 0?void 0:O.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===d}).map(S=>S.callback(E,o)):(u=this.bindings[d])===null||u===void 0||u.filter(S=>{var b,O,x,$,z,L;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const W=S.id,ne=(b=S.filter)===null||b===void 0?void 0:b.event;return W&&((O=n.ids)===null||O===void 0?void 0:O.includes(W))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const W=(z=($=S==null?void 0:S.filter)===null||$===void 0?void 0:$.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return W==="*"||W===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof E=="object"&&"ids"in E){const b=E.data,{schema:O,table:x,commit_timestamp:$,type:z,errors:L}=b;E=Object.assign(Object.assign({},{schema:O,table:x,commit_timestamp:$,eventType:z,new:{},old:{},errors:L}),this._getPayloadRecords(b))}S.callback(E,o)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Ol.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Rt.close,{},r)}_onError(r){this._on(Rt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Zd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Zd(r.columns,r.old_record)),n}}const Qa=()=>{},Ii={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ym=[1e3,2e3,5e3,1e4],Xm=1e4,Zm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ev{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cl,this.transport=null,this.heartbeatIntervalMs=Ii.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qa,this.ref=0,this.reconnectTimer=null,this.vsn=Xd,this.logger=Qa,this.conn=null,this.sendBuffer=[],this.serializer=new Wm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${dl.websocket}`,this.httpEndpoint=hf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return Ir.Connecting;case Ar.open:return Ir.Open;case Ar.closing:return Ir.Closing;default:return Ir.Closed}}isConnected(){return this.connectionState()===Ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Ol(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,d=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Fm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ii.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:d}=n,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ar.open||this.conn.readyState===Ar.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Rt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Zm],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:zm};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new cf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ii.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,d,f,p,m,y,w,E,S;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:cl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Ii.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:Qa,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:Xd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:(b=>Ym[b-1]||Xm),this.vsn){case uf:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((b,O)=>O(JSON.stringify(b))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((b,O)=>O(JSON.parse(b)));break;case Mm:this.encode=(E=r==null?void 0:r.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(S=r==null?void 0:r.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class Gi extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function je(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class tv extends Gi{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fl extends Gi{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const jl=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),rv=()=>Response,pl=i=>{if(Array.isArray(i))return i.map(n=>pl(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=pl(o)}),r},nv=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sv=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Ya=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},iv=(i,r,n)=>q(void 0,void 0,void 0,function*(){const o=yield rv();i instanceof o&&!(n!=null&&n.noResolveJson)?i.json().then(l=>{const u=i.status||500,d=(l==null?void 0:l.statusCode)||u+"";r(new tv(Ya(l),u,d))}).catch(l=>{r(new fl(Ya(l),l))}):r(new fl(Ya(i),i))}),ov=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!o?l:(nv(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function ms(i,r,n,o,l,u){return q(this,void 0,void 0,function*(){return new Promise((d,f)=>{i(n,ov(r,o,l,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>iv(p,f,o))})})}function ds(i,r,n,o){return q(this,void 0,void 0,function*(){return ms(i,"GET",r,n,o)})}function Ct(i,r,n,o,l){return q(this,void 0,void 0,function*(){return ms(i,"POST",r,o,l,n)})}function gl(i,r,n,o,l){return q(this,void 0,void 0,function*(){return ms(i,"PUT",r,o,l,n)})}function av(i,r,n,o){return q(this,void 0,void 0,function*(){return ms(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Cl(i,r,n,o,l){return q(this,void 0,void 0,function*(){return ms(i,"DELETE",r,o,l,n)})}class lv{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}}var ff;class uv{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[ff]="BlobDownloadBuilder",this.promise=null}asStream(){return new lv(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}}ff=Symbol.toStringTag;const cv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dv{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=jl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return q(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},rh),l);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(n),y=this._getFinalPath(m),w=yield(r=="PUT"?gl:Ct)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(je(u))return{data:null,error:u};throw u}})}upload(r,n,o){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return q(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:rh.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const w=yield gl(this.fetch,f.toString(),p,{headers:y});return{data:{path:u,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(je(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return q(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Ct(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new Gi("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}update(r,n,o){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return q(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}copy(r,n,o){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return q(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ct(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return q(this,void 0,void 0,function*(){try{const l=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",f=this._getFinalPath(r),p=()=>ds(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new uv(p,this.shouldThrowOnError)}info(r){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield ds(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}exists(r){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield av(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o)&&o instanceof fl){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${m}`)}}}remove(r){return q(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}list(r,n,o){return q(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},cv),n),{prefix:r||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}listV2(r,n){return q(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const pf="2.86.0",gf={"X-Client-Info":`storage-js/${pf}`};class hv{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),n),this.fetch=jl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield ds(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}createBucket(r){return q(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return q(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}emptyBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var hs=class extends Error{constructor(i,r){var n;super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fv(i,r,n){const o=new URL(r,i);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function pv(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function gv(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:d}){const f=fv(i.baseUrl,o,l),p=await pv(i.auth),m=await r(f,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),y=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),E=w&&y?JSON.parse(y):y;if(!m.ok){const S=w?E:void 0,b=S==null?void 0:S.error;throw new hs((b==null?void 0:b.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:S})}return{status:m.status,headers:m.headers,data:E}}}}function $i(i){return i.join("")}var mv=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:$i(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$i(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$i(i.namespace)}`}),!0}catch(r){if(r instanceof hs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof hs&&n.status===409)return;throw n}}};function un(i){return i.join("")}var vv=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${un(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof hs&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof hs&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},yv=class{constructor(i){var o;let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=gv({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(o=i.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new mv(this.client,r),this.tableOps=new vv(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class wv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gf),n),this.fetch=jl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}listBuckets(r){return q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield ds(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}from(r){if(!sv(r))throw new Gi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new yv({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>q(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Rl={"X-Client-Info":`storage-js/${pf}`,"Content-Type":"application/json"};class mf extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Xa extends mf{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _v extends mf{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var nh;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nh||(nh={}));const Pl=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),kv=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Sv=(i,r,n)=>q(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";r(new Xa(sh(d),l,f))}).catch(()=>{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Xa(f,l,d))});else{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Xa(f,l,d))}}else r(new _v(sh(i),i))}),Ev=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return o?(kv(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function xv(i,r,n,o,l,u){return q(this,void 0,void 0,function*(){return new Promise((d,f)=>{i(n,Ev(r,o,l,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>Sv(p,f,o))})})}function ht(i,r,n,o,l){return q(this,void 0,void 0,function*(){return xv(i,"POST",r,o,l,n)})}class bv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),n),this.fetch=Pl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return q(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}listIndexes(r){return q(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return q(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}}class Tv{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),n),this.fetch=Pl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return q(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ht(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}getVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}listVectors(r){return q(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ht(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}queryVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return q(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ht(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}class Ov{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),n),this.fetch=Pl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}listBuckets(){return q(this,arguments,void 0,function*(r={}){try{return{data:yield ht(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}class jv extends Ov{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Cv(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return q(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return q(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return q(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return q(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class Cv extends bv{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return q(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Rv(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Rv extends Tv{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return q(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Pv extends hv{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new dv(this.url,this.headers,r,this.fetch)}get vectors(){return new jv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wv(this.url+"/iceberg",this.headers,this.fetch)}}const Nv="2.86.0";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const Av={"X-Client-Info":`supabase-js-${ls}/${Nv}`},Iv={headers:Av},$v={schema:"public"},Lv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uv={},Dv=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Bv=()=>Headers,zv=(i,r,n)=>{const o=Dv(n),l=Bv();return async(u,d)=>{var f;const p=(f=await r())!==null&&f!==void 0?f:i;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),o(u,Object.assign(Object.assign({},d),{headers:m}))}};function Mv(i){return i.endsWith("/")?i:i+"/"}function Fv(i,r){var n,o;const{db:l,auth:u,realtime:d,global:f}=i,{db:p,auth:m,realtime:y,global:w}=r,E={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),f),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?E.accessToken=i.accessToken:delete E.accessToken,E}function Vv(i){const r=i==null?void 0:i.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vf="2.86.0",gn=30*1e3,ml=3,Za=ml*gn,Wv="http://localhost:9999",Hv="supabase.auth.token",qv={"X-Client-Info":`gotrue-js/${vf}`},vl="X-Supabase-Api-Version",yf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gv=600*1e3;class fs extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function Q(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Jv extends fs{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Qv(i){return Q(i)&&i.name==="AuthApiError"}class $r extends fs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class gr extends fs{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class ct extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yv(i){return Q(i)&&i.name==="AuthSessionMissingError"}class cn extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends gr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends gr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xv(i){return Q(i)&&i.name==="AuthImplicitGrantRedirectError"}class ih extends gr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yl extends gr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function el(i){return Q(i)&&i.name==="AuthRetryableFetchError"}class oh extends gr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class wl extends gr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ah=` 	
\r=`.split(""),Zv=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<ah.length;r+=1)i[ah[r].charCodeAt(0)]=-2;for(let r=0;r<Fi.length;r+=1)i[Fi[r].charCodeAt(0)]=r;return i})();function lh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Fi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Fi[o]),r.queuedBits-=6}}function wf(i,r,n){const o=Zv[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function uh(i){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{ry(d,o,n)};for(let d=0;d<i.length;d+=1)wf(i.charCodeAt(d),l,u);return r.join("")}function ey(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function ty(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}ey(o,r)}}function ry(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function yn(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)wf(i.charCodeAt(l),n,o);return new Uint8Array(r)}function ny(i){const r=[];return ty(i,n=>r.push(n)),new Uint8Array(r)}function Lr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>lh(l,n,o)),lh(null,n,o),r.join("")}function sy(i){return Math.round(Date.now()/1e3)+i}function iy(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",Rr={tested:!1,writable:!1},_f=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rr.tested)return Rr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Rr.tested=!0,Rr.writable=!0}catch{Rr.tested=!0,Rr.writable=!1}return Rr.writable};function oy(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const kf=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),ay=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",mn=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Pr=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(i,r)=>{await i.removeItem(r)};class Ji{constructor(){this.promise=new Ji.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Ji.promiseConstructor=Promise;function tl(i){const r=i.split(".");if(r.length!==3)throw new wl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Kv.test(r[o]))throw new wl("JWT not in base64url format");return{header:JSON.parse(uh(r[0])),payload:JSON.parse(uh(r[1])),signature:yn(r[2]),raw:{header:r[0],payload:r[1]}}}async function ly(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function uy(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!r(u,null,d)){o(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function cy(i){return("0"+i.toString(16)).substr(-2)}function dy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,cy).join("")}async function hy(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function fy(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await hy(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(i,r,n=!1){const o=dy();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await mn(i,`${r}-code-verifier`,l);const u=await fy(o);return[u,o===u?"plain":"s256"]}const py=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gy(i){const r=i.headers.get(vl);if(!r||!r.match(py))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function my(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function vy(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(i){if(!yy.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wy(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function ch(i){return JSON.parse(JSON.stringify(i))}const Nr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),_y=[502,503,504];async function dh(i){var r;if(!ay(i))throw new yl(Nr(i),0);if(_y.includes(i.status))throw new yl(Nr(i),i.status);let n;try{n=await i.json()}catch(u){throw new $r(Nr(u),u)}let o;const l=gy(i);if(l&&l.getTime()>=yf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new oh(Nr(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new oh(Nr(n),i.status,n.weak_password.reasons);throw new Jv(Nr(n),i.status||500,o)}const ky=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function ee(i,r,n,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[vl]||(u[vl]=yf["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Sy(i,r,n+f,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function Sy(i,r,n,o,l,u){const d=ky(r,o,l,u);let f;try{f=await i(n,Object.assign({},d))}catch(p){throw console.error(p),new yl(Nr(p),0)}if(f.ok||await dh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await dh(p)}}function jt(i){var r;let n=null;by(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=sy(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function hh(i){const r=jt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function fr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Ey(i){return{data:i,error:null}}function xy(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,d=_n(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function fh(i){return i}function by(i){return i.access_token&&i.refresh_token&&i.expires_in}const nl=["global","local","others"];class Ty{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=kf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=nl[0]){if(nl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=_n(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:xy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:fr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:fh});if(y.error)throw y.error;const w=await y.json(),E=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(b=>{const O=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);m[`${x}Page`]=O}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Q(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){hn(r);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:fr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){hn(r);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:fr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){hn(r);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){hn(r.userId);try{const{data:n,error:o}=await ee(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(r){hn(r.userId),hn(r.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},y=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:fh});if(y.error)throw y.error;const w=await y.json(),E=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(b=>{const O=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);m[`${x}Page`]=O}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Q(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function ph(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const fn={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Oy extends Sf{}async function jy(i,r,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Oy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(fn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Cy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ef(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Ry(i){return parseInt(i,16)}function Py(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function Ny(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:m,scheme:y,uri:w,version:E}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=Ef(i.address),b=y?`${y}://${o}`:o,O=i.statement?`${i.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${S}

${O}`;let $=`URI: ${w}
Version: ${E}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&($+=`
Expiration Time: ${l.toISOString()}`),f&&($+=`
Not Before: ${f.toISOString()}`),p&&($+=`
Request ID: ${p}`),m){let z=`
Resources:`;for(const L of m){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);z+=`
- ${L}`}$+=z}return`${x}
${$}`}class Ae extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Vi extends Ae{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ay({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ae({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(xf(d)){if(u.rp.id!==d)return new Ae({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Iy({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ae({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(xf(o)){if(n.rpId!==o)return new Ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class $y{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Ly=new $y;function Uy(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=_n(i,["challenge","user","excludeCredentials"]),u=yn(r).buffer,d=Object.assign(Object.assign({},n),{id:yn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:yn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function Dy(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=_n(i,["challenge","allowCredentials"]),l=yn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:yn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function By(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Lr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Lr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function zy(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Lr(new Uint8Array(l.authenticatorData)),clientDataJSON:Lr(new Uint8Array(l.clientDataJSON)),signature:Lr(new Uint8Array(l.signature)),userHandle:l.userHandle?Lr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function xf(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function gh(){var i,r;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function My(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",r)}:{data:null,error:new Vi("Empty credential response",r)}}catch(r){return{data:null,error:Ay({error:r,options:i})}}}async function Fy(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",r)}:{data:null,error:new Vi("Empty credential response",r)}}catch(r){return{data:null,error:Iy({error:r,options:i})}}}const Vy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Wy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wi(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(n(d))o[u]=d;else if(r(d)){const f=o[u];r(f)?o[u]=Wi(f,d):o[u]=Wi(d)}else o[u]=d}return o}function Hy(i,r){return Wi(Vy,i,r||{})}function qy(i,r){return Wi(Wy,i,r||{})}class Ky{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:f};const p=l??Ly.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=Hy(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:w}=await My({publicKey:m,signal:p});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const m=qy(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:w}=await Fy(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new $r("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new fs("rpId is required for WebAuthn authentication")};try{if(!gh())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new $r("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new fs("rpId is required for WebAuthn registration")};try{if(!gh())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===r&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new $r("Unexpected error in register",d)}}}}Cy();const Gy={url:Wv,storageKey:Hv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mh(i,r,n){return await n()}const pn={};class ps{get jwks(){var r,n;return(n=(r=pn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=pn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Gy),r);if(this.storageKey=u.storageKey,this.instanceID=(n=ps.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Fe()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Ty({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=kf(u.fetch),this.lock=u.lock||mh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Fe()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=jy:this.lock=mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ky(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:_f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ph(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ph(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Fe()&&(n=oy(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Fe()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Xv(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new $r("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:jt}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:y,password:w,options:E}=r;let S=null,b=null;this.flowType==="pkce"&&([S,b]=await dn(this.storage,this.storageKey)),u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:w,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:S,code_challenge_method:b},xform:jt})}else if("phone"in r){const{phone:y,password:w,options:E}=r;u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(l=E==null?void 0:E.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:jt})}else throw new Li("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:f}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hh})}else if("phone"in r){const{phone:u,password:d,options:f}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hh})}else throw new Li("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new cn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,d,f,p,m,y,w,E;let S,b;if("message"in r)S=r.message,b=r.signature;else{const{chain:O,wallet:x,statement:$,options:z}=r;let L;if(Fe())if(typeof x=="object")L=x;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")L=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=x}const W=new URL((n=z==null?void 0:z.url)!==null&&n!==void 0?n:window.location.href),ne=await L.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=Ef(ne[0]);let se=(o=z==null?void 0:z.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!se){const be=await L.request({method:"eth_chainId"});se=Ry(be)}const Se={domain:W.host,address:re,statement:$,uri:W.href,version:"1",chainId:se,nonce:(l=z==null?void 0:z.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=z==null?void 0:z.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=z==null?void 0:z.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=z==null?void 0:z.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=z==null?void 0:z.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=z==null?void 0:z.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=Ny(Se),b=await L.request({method:"personal_sign",params:[Py(S),re]})}try{const{data:O,error:x}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:b},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:jt});if(x)throw x;if(!O||!O.session||!O.user){const $=new cn;return this._returnResult({data:{user:null,session:null},error:$})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:x})}catch(O){if(Q(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(r){var n,o,l,u,d,f,p,m,y,w,E,S;let b,O;if("message"in r)b=r.message,O=r.signature;else{const{chain:x,wallet:$,statement:z,options:L}=r;let W;if(Fe())if(typeof $=="object")W=$;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))W=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=$}const ne=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in W&&W.signIn){const re=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),z?{statement:z}:null));let se;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")se=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)se=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)b=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),O=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${ne.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(o=L==null?void 0:L.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L==null?void 0:L.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((w=(y=L==null?void 0:L.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...L.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const re=await W.signMessage(new TextEncoder().encode(b),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=re}}try{const{data:x,error:$}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Lr(O)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:jt});if($)throw $;if(!x||!x.session||!x.user){const z=new cn;return this._returnResult({data:{user:null,session:null},error:z})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:$})}catch(x){if(Q(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(r){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:jt});if(await hr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:d}=r,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:jt}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const y=new cn;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,d;try{if("email"in r){const{email:f,options:p}=r;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await dn(this.storage,this.storageKey));const{error:w}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:f,options:p}=r,{data:m,error:y}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Li("You must provide either an email or phone number.")}catch(f){if(Q(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:jt});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await dn(this.storage,this.storageKey));const m=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Ey});return!((u=m.data)===null||u===void 0)&&u.url&&Fe()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(Q(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new ct;const{error:l}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:d,error:f}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Li("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Za:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await Pr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=rl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=wy(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:fr}):await this._useSession(async n=>{var o,l,u;const{data:d,error:f}=n;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ct}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:fr})})}catch(n){if(Q(n))return Yv(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new ct;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await dn(this.storage,this.storageKey));const{data:m,error:y}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:fr});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ct;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:d}=tl(r.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:f}=n;if(f)throw f;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new ct;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Fe())throw new Ui("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ui(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ih("No code detected.");const{data:z,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:m}=r;if(!u||!f||!d||!m)throw new Ui("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let E=y+w;p&&(E=parseInt(p));const S=E-y;S*1e3<=gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const b=E-w;y-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,E,y):y-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,E,y);const{data:O,error:x}=await this._getUser(u);if(x)throw x;const $={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:E,refresh_token:d,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:r.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,r);if(f&&!(Qv(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=iy(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await dn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Q(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var d,f,p,m,y;const{data:w,error:E}=u;if(E)throw E;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Fe()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:f,token:p,access_token:m,nonce:y}=r,w=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:jt}),{data:E,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new cn}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:S}))}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)throw d;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await uy(async l=>(l>0&&await ly(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:jt})),(l,u)=>{const d=200*Math.pow(2,l);return u&&el(u)&&Date.now()+d-o<gn})}catch(o){if(this._debug(n,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Fe()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Pr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await mn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:rl()}else if(l&&!l.user&&!l.user){const d=await Pr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await hr(this.storage,this.storageKey+"-user"),await mn(this.storage,this.storageKey,l)):l.user=rl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Za;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Za}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),el(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ji;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new ct;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Q(u)){const d={data:null,error:u};return el(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await mn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=ch(l);await mn(this.storage,this.storageKey,u)}else{const l=ch(n);await mn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),gn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${gn}ms, refresh threshold is ${ml} ticks`),l<=ml&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Sf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await dn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await ee(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:m}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?By(r.webauthn.credential_response):zy(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Uy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Dy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=tl(o.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ct})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new ct});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new ct});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ct})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ct})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+Gv>l)return o;const{data:u,error:d}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:S,error:b}=await this.getSession();if(b||!S.session)return this._returnResult({data:null,error:b});o=S.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:p}}=tl(o);n!=null&&n.allowExpired||my(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:u,header:l,signature:d},error:null}}const y=vy(l.alg),w=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,ny(`${f}.${p}`)))throw new wl("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}}ps.nextInstanceID={};const Jy=ps;class Qy extends Jy{constructor(r){super(r)}}class Yy{constructor(r,n,o){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const f=Vv(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:$v,realtime:Uv,auth:Object.assign(Object.assign({},Lv),{storageKey:p}),global:Iv},y=Fv(o??{},m);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=zv(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Um(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Pv(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Am(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:d,flowType:f,lock:p,debug:m,throwOnError:y},w,E){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qy({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),w),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,flowType:f,lock:p,debug:m,throwOnError:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ev(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xy=(i,r,n)=>new Yy(i,r,n);function Zy(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Zy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e0="https://jgqlqhxjrqwupuevgyzk.supabase.co",t0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpncWxxaHhqcnF3dXB1ZXZneXprIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNDgxMTUsImV4cCI6MjA3OTkyNDExNX0.OYAzIN51SC1KjfI8XiqGcin001P6wZzsSc5JpfCg9LQ",qt=Xy(e0,t0);async function bf(i){try{const{data:r,error:n}=await qt.from("homework").select("*").eq("homework_date",i).order("created_at",{ascending:!0});if(n)throw n;return{data:r||[],error:null}}catch(r){return console.error("  :",r.message),{data:[],error:r}}}async function Tf(i,r){try{const n=`${i}-${String(r).padStart(2,"0")}-01`,o=`${i}-${String(r).padStart(2,"0")}-31`,{data:l,error:u}=await qt.from("homework").select("homework_date").gte("homework_date",n).lte("homework_date",o);if(u)throw u;return{data:[...new Set((l==null?void 0:l.map(f=>f.homework_date))||[])],error:null}}catch(n){return console.error("   :",n.message),{data:[],error:n}}}async function r0({subject:i,task:r,homework_date:n}){try{const{data:o,error:l}=await qt.from("homework").insert([{subject:i,task:r,homework_date:n}]).select().single();if(l)throw l;return{data:o,error:null}}catch(o){return console.error("  :",o.message),{data:null,error:o}}}async function n0(i,r){try{const{data:n,error:o}=await qt.from("homework").update(r).eq("id",i).select().single();if(o)throw o;return{data:n,error:null}}catch(n){return console.error("  :",n.message),{data:null,error:n}}}async function s0(i){try{const{error:r}=await qt.from("homework").delete().eq("id",i);if(r)throw r;return{error:null}}catch(r){return console.error("  :",r.message),{error:r}}}function i0(){const i=new Date,[r,n]=D.useState(i.getFullYear()),[o,l]=D.useState(i.getMonth()),[u,d]=D.useState(`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`),[f,p]=D.useState([]),[m,y]=D.useState([]),[w,E]=D.useState(!1),S=D.useCallback(async O=>{if(!O)return;E(!0);const{data:x,error:$}=await bf(O);$||p(x),E(!1)},[]),b=D.useCallback(async(O,x)=>{const{data:$}=await Tf(O,x+1);y($)},[]);return D.useEffect(()=>{S(u)},[u,S]),D.useEffect(()=>{b(r,o)},[r,o,b]),R.jsx("div",{className:"min-h-screen py-8 px-4",children:R.jsxs("div",{className:"max-w-6xl mx-auto",children:[R.jsxs("header",{className:"text-center mb-8",children:[R.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-dark dark:text-white mb-2",children:" "}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" ,   "})]}),R.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[R.jsx("div",{children:R.jsx(Ch,{year:r,month:o,selectedDate:u,homeworkDates:m,onYearChange:n,onMonthChange:l,onDateSelect:d})}),R.jsx("div",{children:R.jsx(Rh,{homework:f,selectedDate:u,isLoading:w,isAdmin:!1})})]}),R.jsx("footer",{className:"mt-12 text-center",children:R.jsxs("a",{href:"#/admin",className:"inline-flex items-center gap-1 text-sm text-gray-400 dark:text-gray-500 hover:text-primary-accent dark:hover:text-primary-accent transition-colors",children:[R.jsx("span",{className:"material-icons text-base",children:"lock"})," "]})})]})})}function o0({isOpen:i,selectedDate:r,onClose:n,onAdd:o}){const[l,u]=D.useState(""),[d,f]=D.useState(""),[p,m]=D.useState(r||""),[y,w]=D.useState(!1),E=D.useRef(null),S=D.useRef(null);D.useEffect(()=>{m(r||"")},[r]),D.useEffect(()=>{i&&S.current&&S.current.focus()},[i]),D.useEffect(()=>{const O=x=>{E.current&&!E.current.contains(x.target)&&n()};return i&&(document.addEventListener("mousedown",O),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",O),document.body.style.overflow=""}},[i,n]),D.useEffect(()=>{const O=x=>{x.key==="Escape"&&n()};return i&&document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[i,n]);const b=async O=>{if(O.preventDefault(),!(!l.trim()||!d.trim()||!p)){w(!0);try{await o({subject:l.trim(),task:d.trim(),homework_date:p}),u(""),f(""),n()}catch(x){console.error(" :",x)}finally{w(!1)}}};return i?R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:R.jsxs("div",{ref:E,className:"w-full max-w-md bg-white dark:bg-dark-surface rounded-2xl shadow-2xl animate-scale-in",children:[R.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-dark-border",children:[R.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:" "}),R.jsx("button",{onClick:n,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors","aria-label":"",children:R.jsx("span",{className:"material-icons text-gray-500",children:"close"})})]}),R.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),R.jsx("input",{ref:S,id:"subject",type:"text",value:l,onChange:O=>u(O.target.value),placeholder:": ",className:"input-field",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"task",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),R.jsx("textarea",{id:"task",value:d,onChange:O=>f(O.target.value),placeholder:" ...",rows:4,className:"textarea-field",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),R.jsx("input",{id:"date",type:"date",value:p,onChange:O=>m(O.target.value),className:"input-field",required:!0})]}),R.jsxs("div",{className:"flex gap-3 pt-2",children:[R.jsx("button",{type:"button",onClick:n,className:"flex-1 btn-secondary",children:""}),R.jsx("button",{type:"submit",disabled:!l.trim()||!d.trim()||!p||y,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:y?R.jsxs("span",{className:"flex items-center justify-center gap-2",children:[R.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):""})]})]})]})}):null}function a0({onLogin:i,isLoading:r=!1}){const[n,o]=D.useState(""),[l,u]=D.useState(""),[d,f]=D.useState(""),p=async m=>{if(m.preventDefault(),f(""),!n.trim()||!l.trim()){f("  ");return}try{await i(n.trim(),l)}catch(y){f(y.message||" ")}};return R.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:R.jsx("div",{className:"w-full max-w-md",children:R.jsxs("div",{className:"card p-8",children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("span",{className:"material-icons text-5xl text-primary-accent mb-3",children:"admin_panel_settings"}),R.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" "}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"   "})]}),R.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d&&R.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm text-center animate-fade-in",children:d}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),R.jsx("input",{id:"email",type:"email",value:n,onChange:m=>o(m.target.value),placeholder:"admin@example.com",className:"input-field",autoComplete:"email",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),R.jsx("input",{id:"password",type:"password",value:l,onChange:m=>u(m.target.value),placeholder:"",className:"input-field",autoComplete:"current-password",required:!0})]}),R.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:r?R.jsxs("span",{className:"flex items-center justify-center gap-2",children:[R.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):""})]}),R.jsx("div",{className:"mt-6 text-center",children:R.jsx("a",{href:"#/",className:"text-sm text-primary-accent hover:underline",children:"   "})})]})})})}function vh({message:i,type:r="success",onClose:n,duration:o=3e3}){D.useEffect(()=>{const d=setTimeout(()=>{n()},o);return()=>clearTimeout(d)},[n,o]);const l=r==="success"?"bg-green-500":r==="error"?"bg-red-500":"bg-gray-700",u=r==="success"?"check_circle":r==="error"?"error":"info";return R.jsx("div",{className:`toast ${l}`,children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"material-icons text-xl",children:u}),R.jsx("span",{children:i}),R.jsx("button",{onClick:n,className:"ml-2 p-1 rounded hover:bg-white/20 transition-colors","aria-label":"",children:R.jsx("span",{className:"material-icons text-sm",children:"close"})})]})})}async function l0(i,r){try{const{data:n,error:o}=await qt.auth.signInWithPassword({email:i,password:r});if(o)throw o;return{data:n,error:null}}catch(n){return console.error(" :",n.message),{data:null,error:n}}}async function u0(){try{const{error:i}=await qt.auth.signOut();if(i)throw i;return{error:null}}catch(i){return console.error(" :",i.message),{error:i}}}async function c0(){try{const{data:{session:i},error:r}=await qt.auth.getSession();if(r)throw r;return{session:i,error:null}}catch(i){return console.error("  :",i.message),{session:null,error:i}}}function d0(i){const{data:{subscription:r}}=qt.auth.onAuthStateChange((n,o)=>{i(n,o)});return()=>r.unsubscribe()}function h0(){const[i,r]=D.useState(null),[n,o]=D.useState(!0),[l,u]=D.useState(!1),d=new Date,[f,p]=D.useState(d.getFullYear()),[m,y]=D.useState(d.getMonth()),[w,E]=D.useState(`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`),[S,b]=D.useState([]),[O,x]=D.useState([]),[$,z]=D.useState(!1),[L,W]=D.useState(!1),[ne,re]=D.useState(null),se=(pe,fe="success")=>{re({message:pe,type:fe})};D.useEffect(()=>{(async()=>{const{session:ie}=await c0();r((ie==null?void 0:ie.user)||null),o(!1)})();const fe=d0((ie,M)=>{r((M==null?void 0:M.user)||null)});return()=>fe()},[]);const Se=D.useCallback(async pe=>{if(!pe)return;z(!0);const{data:fe,error:ie}=await bf(pe);ie||b(fe),z(!1)},[]),be=D.useCallback(async(pe,fe)=>{const{data:ie}=await Tf(pe,fe+1);x(ie)},[]);D.useEffect(()=>{i&&Se(w)},[w,i,Se]),D.useEffect(()=>{i&&be(f,m)},[f,m,i,be]);const _t=async(pe,fe)=>{u(!0);const{data:ie,error:M}=await l0(pe,fe);if(u(!1),M)throw new Error(M.message||" email  ");r(ie.user),se("  ")},Lt=async()=>{await u0(),r(null),b([]),x([]),se("   ")},ft=async pe=>{const{data:fe,error:ie}=await r0(pe);if(ie)throw se("  ","error"),ie;pe.homework_date===w&&b(M=>[...M,fe]),await be(f,m),se(" ")},Ge=async(pe,fe)=>{const{data:ie,error:M}=await n0(pe,fe);if(M){se("  ","error");return}b(Z=>Z.map(V=>V.id===pe?ie:V)),se(" ")},st=async pe=>{if(!window.confirm(" ,     ?"))return;const{error:fe}=await s0(pe);if(fe){se("  ","error");return}b(ie=>ie.filter(M=>M.id!==pe)),await be(f,m),se(" ")};return n?R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("span",{className:"w-12 h-12 border-4 border-primary-accent/30 border-t-primary-accent rounded-full animate-spin inline-block"}),R.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"..."})]})}):i?R.jsx("div",{className:"min-h-screen py-8 px-4",children:R.jsxs("div",{className:"max-w-6xl mx-auto",children:[R.jsxs("header",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[R.jsxs("div",{className:"text-center sm:text-left",children:[R.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-primary-dark dark:text-white",children:" "}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:i.email})]}),R.jsxs("button",{onClick:Lt,className:"btn-secondary flex items-center gap-2",children:[R.jsx("span",{className:"material-icons text-xl",children:"logout"}),""]})]}),R.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[R.jsx("div",{children:R.jsx(Ch,{year:f,month:m,selectedDate:w,homeworkDates:O,onYearChange:p,onMonthChange:y,onDateSelect:E})}),R.jsx("div",{children:R.jsx(Rh,{homework:S,selectedDate:w,isLoading:$,isAdmin:!0,onEdit:Ge,onDelete:st})})]}),R.jsx("button",{onClick:()=>W(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-primary-accent text-white shadow-lg hover:shadow-xl hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center","aria-label":" ",children:R.jsx("span",{className:"material-icons text-2xl",children:"add"})}),R.jsx(o0,{isOpen:L,selectedDate:w,onClose:()=>W(!1),onAdd:ft}),ne&&R.jsx(vh,{message:ne.message,type:ne.type,onClose:()=>re(null)})]})}):R.jsxs(R.Fragment,{children:[R.jsx(a0,{onLogin:_t,isLoading:l}),ne&&R.jsx(vh,{message:ne.message,type:ne.type,onClose:()=>re(null)})]})}const Of=D.createContext();function f0(){const i=D.useContext(Of);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}function p0({children:i}){const[r,n]=D.useState(()=>{if(typeof window<"u"){const u=localStorage.getItem("theme");return u?u==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});D.useEffect(()=>{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]),D.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),d=f=>{localStorage.getItem("theme")||n(f.matches)};return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[]);const l={isDark:r,toggleTheme:()=>{n(u=>!u)}};return R.jsx(Of.Provider,{value:l,children:i})}function g0(){const{isDark:i,toggleTheme:r}=f0();return R.jsx("button",{onClick:r,className:"p-2 rounded-lg bg-white dark:bg-dark-surface shadow-md border border-gray-100 dark:border-dark-border hover:scale-105 active:scale-95 transition-all duration-200","aria-label":i?"   ":"   ",children:R.jsx("span",{className:"material-icons text-primary-accent",children:i?"light_mode":"dark_mode"})})}function m0(){return R.jsxs("div",{className:"min-h-screen",children:[R.jsx("div",{className:"fixed top-4 right-4 z-50",children:R.jsx(g0,{})}),R.jsxs(wm,{children:[R.jsx(il,{path:"/",element:R.jsx(i0,{})}),R.jsx(il,{path:"/admin",element:R.jsx(h0,{})})]})]})}Ig.createRoot(document.getElementById("root")).render(R.jsx(wh.StrictMode,{children:R.jsx(Sm,{children:R.jsx(p0,{children:R.jsx(m0,{})})})}));
